{"version":3,"sources":["webpack:///webpack/bootstrap 401fee0e454230875c6f","webpack:///./src/util/config.js","webpack:///./src/objects/Player.js","webpack:///./src/objects/Sector.js","webpack:///./src/objects/Vertex.js","webpack:///./src/util/canvas-util.js","webpack:///./src/objects/Bullet.js","webpack:///./src/objects/Enemy.js","webpack:///./src/util/vector_util.js","webpack:///./src/objects/effects/RapidFire.js","webpack:///./src/inputHandler.js","webpack:///./src/canvas.js"],"names":["module","exports","canvas","c","socket","xView","yView","map","player","players","sectors","enemies","entityId","playerMaxHp","moveSpeed","movementPenalty","backwordsSpeed","angleAdjustments","enemyRadius","colors","commandKeys","config","require","vectorUtil","Sector","Bullet","Player","x","y","id","angle","width","height","maxHp","hp","currentSector","undefined","vecAddition","bullets","bulletDelay","lastBullet","activeEffects","speedAddition","fireAddition","fireDelay","update","entries","index","bullet","lifetime","splice","delete","handleEffects","fire","Math","cos","sin","getSector","push","emit","dx","fireSpeed","dy","radius","sector","color","move","prevX","prevY","friction","updateAngle","up","updatePos","vertices","neighbours","i","length","a","b","intersectBox","pointSide","n","checkForPortal","xd","yd","containsVertices","removePlayer","setSector","enterSector","min","max","filter","hit","console","log","boostFire","effect","duration","delay","draw","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","closePath","save","translate","rotate","fillStyle","rect","fill","restore","util","Vertex","Enemy","RapidFire","vCount","floorColor","effects","addVertex","vertex","addNeighbour","getWallNeighbour","vertex1","vertex2","found","equal","portal","strokeWidth","drawFloor","enemy","indexOf","setFloorColor","setFriction","addPlayer","addEnemy","setEnemy","spawnEnemy","enemyVertex","randomVertex","random","randomIntFromRange","spawnEffects","dfw","rangeXY","findMaxAndMin","newPoint","point","minX","maxX","minY","maxY","insideSector","j","inside","other","floor","randomColor","getDistance","x1","y1","x2","y2","xDistance","yDistance","sqrt","pow","owner","hitCheckEnemy","stopBullet","hitCheckPlayer","arc","PI","attackDelay","lastAttack","numberOfBullets","attack","randomOffset","speed","clamp","input","x0","y0","x3","y3","overlap","a0","a1","b0","b1","vcp","px","py","intersect","x4","y4","pos","removeEffect","handleInput","slower","back","inputHandler","io","on","JSON","stringify","data","p","parse","newPlayer","removePlayers","playerIndex","findIndex","sectorIndex","document","querySelector","getContext","innerWidth","innerHeight","mouse","addEventListener","event","clientX","clientY","onkeydown","onkeyup","keyCode","preventDefault","type","init","vertices1","vertices2","vertices3","vertices4","sector1","sector2","sector3","sector4","animate","requestAnimationFrame","clearRect"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AChEAA,OAAOC,OAAP,GAAiB;AACf;AACAC,UAAQ,IAFO;AAGfC,KAAG,IAHY;AAIfC,UAAQ,IAJO;AAKfC,SAAO,GALQ;AAMfC,SAAO,GANQ;;AAQf;AACAC,OAAK,EATU;;AAWf;AACAC,UAAQ,IAZO;AAafC,WAAS,EAbM;AAcfC,WAAS,EAdM;AAefC,WAAS,EAfM;;AAiBf;AACAC,YAAU,CAlBK;;AAoBf;AACAC,eAAa,CArBE;AAsBfC,aAAW,CAtBI;AAuBfC,mBAAiB,GAvBF;AAwBfC,kBAAgB,GAxBD;AAyBfC,oBAAkB,IAzBH;AA0BfC,eAAa,EA1BE;AA2BfC,UAAQ,CACN,OADM,EAEN,KAFM,EAGN,MAHM,EAIN,MAJM,CA3BO;;AAkCf;AACAC,eAAa,CACX,GADW,EAEX,EAFW,EAGX,EAHW;;AAnCE,CAAjB,C;;;;;;;;;;;ACAA,IAAIC,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAIC,aAAa,mBAAAD,CAAQ,CAAR,CAAjB;AACA,IAAIE,SAAS,mBAAAF,CAAQ,CAAR,CAAb;AACA,IAAIG,SAAS,mBAAAH,CAAQ,CAAR,CAAb;;AAEAtB,OAAOC,OAAP,GAAiByB,MAAjB;;AAEA;AACA,SAASA,MAAT,CAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,EAAtB,EAA0B;AACxB,OAAKA,EAAL,GAAUA,EAAV;AACA,OAAKF,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACA,OAAKE,KAAL,GAAa,CAAb;AACA,OAAKC,KAAL,GAAa,EAAb;AACA,OAAKC,MAAL,GAAc,CAAd;AACA,OAAKC,KAAL,GAAaZ,OAAOR,WAApB;AACA,OAAKqB,EAAL,GAAU,KAAKD,KAAf;AACA,OAAKE,aAAL,GAAqBC,SAArB;;AAEA,OAAKC,WAAL,GAAmB,EAAnB;AACA,OAAKC,OAAL,GAAe,EAAf;AACA,OAAKC,WAAL,GAAmB,EAAnB;AACA,OAAKC,UAAL,GAAkB,KAAKD,WAAvB;;AAEA;AACA,OAAKE,aAAL,GAAqB,EAArB;AACA,OAAKC,aAAL,GAAqB,CAArB;AACA,OAAKC,YAAL,GAAoB,CAApB;AACA,OAAKC,SAAL,GAAiB,CAAjB;;AAEA,OAAKC,MAAL,GAAc,YAAY;AAAA;AAAA;AAAA;;AAAA;AACxB,2BAA4B,KAAKP,OAAL,CAAaQ,OAAb,EAA5B,8HAAoD;AAAA;;AAAA;;AAAA,YAA1CC,KAA0C;AAAA,YAAnCC,MAAmC;;AAClDA,eAAOH,MAAP;AACA,YAAIG,OAAOC,QAAP,IAAmB,CAAvB,EAA0B;AACxB,eAAKX,OAAL,CAAaY,MAAb,CAAoBH,KAApB,EAA2B,CAA3B;AACAC,iBAAOG,MAAP;AACD;AACF;AAPuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASxB,SAAKC,aAAL;;AAEA,SAAKZ,UAAL;AACD,GAZD;;AAcA,OAAKa,IAAL,GAAY,YAAY;AACtB,QAAI,KAAKb,UAAL,IAAmB,KAAKD,WAA5B,EAAyC;AACvC,UAAIS,SAAS,IAAIvB,MAAJ,CACX,KAAKE,CADM,EAEX,KAAKC,CAFM,EAGV0B,KAAKC,GAAL,CAAS,KAAKzB,KAAd,IAAwB,KAAKH,CAA9B,GAAqC,KAAKA,CAH/B,EAIV2B,KAAKE,GAAL,CAAS,KAAK1B,KAAd,IAAwB,KAAKF,CAA9B,GAAqC,KAAKA,CAJ/B,EAKX,KAAK6B,SAAL,EALW,EAMX,KAAK,KAAKb,SANC,EAOX,IAAI,KAAKD,YAPE,EAQX,gBARW,EASX,IATW,CAAb;;AAYA,WAAKL,OAAL,CAAaoB,IAAb,CAAkBV,MAAlB;AACA,WAAKR,UAAL,GAAkB,CAAlB;;AAEAnB,aAAOjB,MAAP,CAAcuD,IAAd,CAAmB,cAAnB,EAAmC;AACjCX,gBAAQ;AACNrB,aAAGqB,OAAOrB,CADJ;AAENC,aAAGoB,OAAOpB,CAFJ;AAGNgC,cAAIZ,OAAOY,EAAP,GAAYZ,OAAOa,SAHjB;AAINC,cAAId,OAAOc,EAAP,GAAYd,OAAOa,SAJjB;AAKNE,kBAAQf,OAAOe,MALT;AAMNd,oBAAUD,OAAOC,QANX;AAONY,qBAAWb,OAAOa,SAPZ;AAQNG,kBAAQ,KAAKP,SAAL,GAAiB5B,EARnB;AASNoC,iBAAOjB,OAAOiB;AATR,SADyB;AAYjCpC,YAAIR,OAAOjB,MAAP,CAAcyB;AAZe,OAAnC;AAcD;AACF,GAhCD;;AAkCA,OAAKqC,IAAL,GAAY,YAAY;AACtB,QAAIC,QAAQ,KAAKxC,CAAjB;AACA,QAAIyC,QAAQ,KAAKxC,CAAjB;;AAEA,SAAKD,CAAL,IAAU,KAAKU,WAAL,CAAiB,CAAjB,IAAsB,KAAKoB,SAAL,GAAiBY,QAAjD;AACA,SAAKzC,CAAL,IAAU,KAAKS,WAAL,CAAiB,CAAjB,IAAsB,KAAKoB,SAAL,GAAiBY,QAAjD;;AAEAhD,WAAOhB,KAAP,GAAe,CAAC,KAAKsB,CAArB;AACAN,WAAOf,KAAP,GAAe,CAAC,KAAKsB,CAArB;;AAEA,QAAIuC,UAAU,KAAKxC,CAAf,IAAoByC,UAAU,KAAKxC,CAAvC,EAA0C;AACxCP,aAAOjB,MAAP,CAAcuD,IAAd,CAAmB,cAAnB,EAAmC;AACjChC,WAAG,KAAKA,CADyB;AAEjCC,WAAG,KAAKA,CAFyB;AAGjCC,YAAIR,OAAOjB,MAAP,CAAcyB;AAHe,OAAnC;AAKD;AACF,GAjBD;;AAmBA,OAAKyC,WAAL,GAAmB,UAAUC,EAAV,EAAc;AAC/B,QAAIA,EAAJ,EAAQ;AACN,WAAKzC,KAAL,IAAcT,OAAOJ,gBAArB;AACD,KAFD,MAEO;AACL,WAAKa,KAAL,IAAcT,OAAOJ,gBAArB;AACD;;AAEDI,WAAOjB,MAAP,CAAcuD,IAAd,CAAmB,cAAnB,EAAmC;AACjC7B,aAAO,KAAKA,KADqB;AAEjCD,UAAIR,OAAOjB,MAAP,CAAcyB;AAFe,KAAnC;AAID,GAXD;;AAaA,OAAK2C,SAAL,GAAiB,UAAUnC,WAAV,EAAuB;AACtC,QAAIoC,WAAW,KAAKhB,SAAL,GAAiBgB,QAAhC;AACA,QAAIC,aAAa,KAAKjB,SAAL,GAAiBiB,UAAlC;;AAEA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,SAASG,MAA7B,EAAqCD,GAArC,EAA0C;AACxC,UAAIE,IAAIJ,SAASE,CAAT,CAAR;AAAA,UAAqBG,IAAIL,SAASE,IAAI,CAAb,CAAzB;;AAEA;AACA,UAAIA,KAAKF,SAASG,MAAT,GAAkB,CAA3B,EAA8B;AAC5BE,YAAIL,SAAS,CAAT,CAAJ;AACD;;AAED,UAAIlD,WAAWwD,YAAX,CAAwB,KAAKpD,CAA7B,EAAgC,KAAKC,CAArC,EAAyC,KAAKD,CAAN,GAAYU,YAAY,CAAZ,CAApD,EAAqE,KAAKT,CAAN,GAAYS,YAAY,CAAZ,CAAhF,EAAgGwC,EAAElD,CAAlG,EAAqGkD,EAAEjD,CAAvG,EAA0GkD,EAAEnD,CAA5G,EAA+GmD,EAAElD,CAAjH,KACFL,WAAWyD,SAAX,CAAsB,KAAKrD,CAAN,GAAYU,YAAY,CAAZ,CAAjC,EAAkD,KAAKT,CAAN,GAAYS,YAAY,CAAZ,CAA7D,EAA6EwC,EAAElD,CAA/E,EAAkFkD,EAAEjD,CAApF,EAAuFkD,EAAEnD,CAAzF,EAA4FmD,EAAElD,CAA9F,IAAmG,CADrG,EACwG;;AAEtG;AAFsG;AAAA;AAAA;;AAAA;AAGtG,gCAAc8C,UAAd,mIAA0B;AAAA,gBAAjBO,CAAiB;;AACxB,gBAAI,KAAKC,cAAL,CAAoBD,CAApB,EAAuB5C,WAAvB,EAAoCwC,CAApC,EAAuCC,CAAvC,CAAJ,EAA+C;AAC7C,qBAAO,IAAP;AACH;;AAED;AACA;AATsG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUtG,YAAIK,KAAKL,EAAEnD,CAAF,GAAMkD,EAAElD,CAAjB;AAAA,YAAoByD,KAAKN,EAAElD,CAAF,GAAMiD,EAAEjD,CAAjC;AACAS,oBAAY,CAAZ,IAAiB8C,MAAM9C,YAAY,CAAZ,IAAiB8C,EAAjB,GAAsBC,KAAK/C,YAAY,CAAZ,CAAjC,KAAoD8C,KAAKA,EAAL,GAAUC,KAAKA,EAAnE,CAAjB;AACA/C,oBAAY,CAAZ,IAAiB+C,MAAM/C,YAAY,CAAZ,IAAiB8C,EAAjB,GAAsBC,KAAK/C,YAAY,CAAZ,CAAjC,KAAoD8C,KAAKA,EAAL,GAAUC,KAAKA,EAAnE,CAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AACF;AACD,SAAK/C,WAAL,GAAmBA,WAAnB;AACA,SAAK6B,IAAL;AACD,GAvCD;;AAyCA,OAAKgB,cAAL,GAAsB,UAAUD,CAAV,EAAa5C,WAAb,EAA0BwC,CAA1B,EAA6BC,CAA7B,EAAgC;AACpD,QAAIG,EAAEI,gBAAF,CAAmBR,CAAnB,EAAsBC,CAAtB,CAAJ,EAA8B;AAC5B;AACA;AACA;;AAEA,WAAKrB,SAAL,GAAiB6B,YAAjB,CAA8B,IAA9B;AACA,WAAKC,SAAL,CAAeN,EAAEpD,EAAjB;AACA,WAAK4B,SAAL,GAAiB+B,WAAjB,CAA6B,IAA7B;;AAEA;AACA,UAAI,CAAClC,KAAKmC,GAAL,CAASZ,EAAElD,CAAX,EAAcmD,EAAEnD,CAAhB,IAAqB,KAAKA,CAAL,GAASU,YAAY,CAAZ,CAA9B,IAAgD,KAAKV,CAAL,GAASU,YAAY,CAAZ,CAAT,GAA0BiB,KAAKoC,GAAL,CAASb,EAAElD,CAAX,EAAcmD,EAAEnD,CAAhB,CAA3E,MACD2B,KAAKmC,GAAL,CAASZ,EAAEjD,CAAX,EAAckD,EAAElD,CAAhB,IAAqB,KAAKA,CAAL,GAASS,YAAY,CAAZ,CAA9B,IAAgD,KAAKT,CAAL,GAASS,YAAY,CAAZ,CAAT,GAA0BiB,KAAKoC,GAAL,CAASb,EAAEjD,CAAX,EAAckD,EAAElD,CAAhB,CADzE,CAAJ,EACkG;AAChG;AACAS,oBAAY,CAAZ,IAAiB,CAAjB;AACAA,oBAAY,CAAZ,IAAiB,CAAjB;AACD;AACD,WAAKA,WAAL,GAAmBA,WAAnB;AACA,WAAK6B,IAAL;;AAEA,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GAvBD;;AAyBA,OAAKqB,SAAL,GAAiB,UAAU1D,EAAV,EAAc;AAC7B,SAAKM,aAAL,GAAqBN,EAArB;AACD,GAFD;;AAIA,OAAK4B,SAAL,GAAiB,YAAY;AAAA;;AAC3B,WAAOpC,OAAOX,OAAP,CAAeiF,MAAf,CAAsB;AAAA,aAAU3B,OAAOnC,EAAP,KAAc,MAAKM,aAA7B;AAAA,KAAtB,EAAkE,CAAlE,CAAP;AACD,GAFD;;AAIA,OAAKyD,GAAL,GAAW,YAAY;AACrB,QAAI,KAAK1D,EAAL,GAAU,CAAd,EAAiB;AACf,WAAKA,EAAL;AACD,KAFD,MAEO;AACL2D,cAAQC,GAAR,CAAY,WAAZ;AACD;AACF,GAND;;AAQA,OAAKC,SAAL,GAAiB,UAAUC,MAAV,EAAkBC,QAAlB,EAA4BC,KAA5B,EAAmC;AAClD,SAAKzD,aAAL,CAAmB,MAAnB,IAA6B;AAC3BuD,cAAQA,MADmB;AAE3BC,gBAAUA,QAFiB;AAG3BC,aAAOA;AAHoB,KAA7B;AAKD,GAND;;AAQA,OAAK9C,aAAL,GAAqB,YAAY;AAC/B;AACA,QAAI,KAAKX,aAAL,CAAmB,MAAnB,KAA8B,KAAKA,aAAL,CAAmB,MAAnB,EAA2BwD,QAA3B,GAAsC,CAAxE,EAA2E;AACzE,WAAKtD,YAAL,GAAoB,KAAKF,aAAL,CAAmB,MAAnB,EAA2BuD,MAA/C;AACA,WAAKpD,SAAL,GAAiB,KAAKH,aAAL,CAAmB,MAAnB,EAA2ByD,KAA5C;AACA,WAAKzD,aAAL,CAAmB,MAAnB,EAA2BwD,QAA3B,IAAuC,CAAvC;AACD,KAJD,MAIO;AACL,WAAKtD,YAAL,GAAoB,CAApB;AACA,WAAKC,SAAL,GAAiB,CAAjB;AACD;AACF,GAVD;;AAYA,OAAKuD,IAAL,GAAY,YAAY;AACtB9E,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAASkG,MAAT,CAAgB,KAAK1E,CAArB,EAAwB,KAAKC,CAA7B;AACAP,WAAOlB,CAAP,CAASmG,MAAT,CAAgBhD,KAAKC,GAAL,CAAS,KAAKzB,KAAd,IAAuB,EAAvB,GAA4B,KAAKH,CAAjD,EAAoD2B,KAAKE,GAAL,CAAS,KAAK1B,KAAd,IAAuB,EAAvB,GAA4B,KAAKF,CAArF;AACAP,WAAOlB,CAAP,CAASoG,WAAT,GAAuB,SAAvB;AACAlF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;AACAnF,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;;AAEAnF,WAAOlB,CAAP,CAASwG,IAAT;AACAtF,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAASyG,SAAT,CAAoB,KAAKjF,CAAL,GAAS,KAAKI,KAAL,GAAa,CAAvB,GAA6B,KAAKA,KAAL,GAAa,CAA7D,EAAkE,KAAKH,CAAL,GAAS,KAAKI,MAAL,GAAc,CAAxB,GAA8B,KAAKA,MAAL,GAAc,CAA7G;AACAX,WAAOlB,CAAP,CAAS0G,MAAT,CAAgB,KAAK/E,KAArB;AACAT,WAAOlB,CAAP,CAAS2G,SAAT,GAAqB,OAArB;AACAzF,WAAOlB,CAAP,CAAS4G,IAAT,CAAc,CAAC,KAAKhF,KAAN,GAAc,CAA5B,EAA+B,CAAC,KAAKC,MAAN,GAAe,CAA9C,EAAiD,KAAKD,KAAtD,EAA6D,KAAKC,MAAlE;AACAX,WAAOlB,CAAP,CAAS6G,IAAT;AACA3F,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAAS8G,OAAT;;AAEA;AACA5F,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAASkG,MAAT,CAAgB,KAAK1E,CAAL,GAAS,KAAKI,KAAL,GAAa,CAAtC,EAAyC,KAAKH,CAAL,GAAS,KAAKI,MAAL,GAAc,GAAhE;AACAX,WAAOlB,CAAP,CAASmG,MAAT,CAAgB,KAAK3E,CAAL,GAAU,KAAKI,KAAL,GAAa,CAAvC,EAA2C,KAAKH,CAAL,GAAS,KAAKI,MAAL,GAAc,GAAlE;AACAX,WAAOlB,CAAP,CAASoG,WAAT,GAAuB,KAAvB;AACAlF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;AACAnF,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;;AAEAnF,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAASkG,MAAT,CAAgB,KAAK1E,CAAL,GAAS,KAAKI,KAAL,GAAa,CAAtC,EAAyC,KAAKH,CAAL,GAAS,KAAKI,MAAL,GAAc,GAAhE;AACAX,WAAOlB,CAAP,CAASmG,MAAT,CAAgB,KAAK3E,CAAL,GAAW,KAAKI,KAAL,GAAa,KAAKE,KAAnB,GAA4B,KAAKC,EAA3C,GAAiD,KAAKH,KAAL,GAAa,CAA9E,EAAiF,KAAKH,CAAL,GAAS,KAAKI,MAAL,GAAc,GAAxG;AACAX,WAAOlB,CAAP,CAASoG,WAAT,GAAuB,OAAvB;AACAlF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;AACAnF,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;AACD,GAvCD;AAwCD,C;;;;;;;;;;;AC5PD,IAAInF,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAIC,aAAa,mBAAAD,CAAQ,CAAR,CAAjB;AACA,IAAI4F,OAAO,mBAAA5F,CAAQ,CAAR,CAAX;AACA,IAAI6F,SAAS,mBAAA7F,CAAQ,CAAR,CAAb;AACA,IAAI8F,QAAQ,mBAAA9F,CAAQ,CAAR,CAAZ;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;AACA,IAAI+F,YAAY,mBAAA/F,CAAQ,CAAR,CAAhB;;AAEAtB,OAAOC,OAAP,GAAiBuB,MAAjB;;AAEA;AACA,SAASA,MAAT,CAAiBK,EAAjB,EAAqB4C,QAArB,EAA+BR,KAA/B,EAAsC;AACpC,OAAKpC,EAAL,GAAUA,EAAV;AACA,OAAKyF,MAAL,GAAc7C,SAASG,MAAvB;AACA,OAAKP,QAAL,GAAgB,CAAhB;AACA,OAAKJ,KAAL,GAAaA,KAAb;AACA,OAAKsD,UAAL,GAAkB,WAAlB;;AAEA,OAAK9C,QAAL,GAAgBA,QAAhB;AACA,OAAKC,UAAL,GAAkB,EAAlB;AACA,OAAK/D,OAAL,GAAe,EAAf;AACA,OAAKF,OAAL,GAAe,EAAf;AACA,OAAK+G,OAAL,GAAe,EAAf;;AAEA,OAAKC,SAAL,GAAiB,UAAUC,MAAV,EAAkB;AACjC,SAAKjD,QAAL,CAAcf,IAAd,CAAmBgE,MAAnB;AACA,SAAKJ,MAAL;AACD,GAHD;;AAKA,OAAKK,YAAL,GAAoB,UAAU3D,MAAV,EAAkB;AACpC,SAAKU,UAAL,CAAgBhB,IAAhB,CAAqBM,MAArB;AACD,GAFD;;AAIA,OAAK4D,gBAAL,GAAwB,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;AAAA;AAAA;AAAA;;AAAA;AAClD,2BAAmB,KAAKpD,UAAxB,8HAAoC;AAAA,YAA3BV,MAA2B;;AAClC,YAAGA,OAAOqB,gBAAP,CAAwBwC,OAAxB,EAAiCC,OAAjC,CAAH,EAA8C;AAC5C,iBAAO9D,MAAP;AACD;AACF;AALiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMlD,WAAO,IAAP;AACD,GAPD;;AASA,OAAKqB,gBAAL,GAAwB,UAAUwC,OAAV,EAAmBC,OAAnB,EAA4B;AAClD,QAAIC,QAAQ,CAAZ;AADkD;AAAA;AAAA;;AAAA;AAElD,4BAAmB,KAAKtD,QAAxB,mIAAkC;AAAA,YAAzBiD,MAAyB;;AAChC,YAAIA,OAAOM,KAAP,CAAaH,OAAb,KAAyBH,OAAOM,KAAP,CAAaF,OAAb,CAA7B,EACEC;AACH;AALiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOlD,WAAOA,SAAS,CAAhB;AACD,GARD;;AAUA,OAAK5B,IAAL,GAAY,YAAY;AACtB9E,WAAOlB,CAAP,CAASiG,SAAT;;AAEA,SAAI,IAAIzB,IAAI,CAAZ,EAAeA,IAAI,KAAKF,QAAL,CAAcG,MAAjC,EAAyCD,GAAzC,EAA8C;AAC5C,UAAIE,IAAI,KAAKJ,QAAL,CAAcE,CAAd,CAAR;AAAA,UAA0BG,IAAI,KAAKL,QAAL,CAAcE,IAAI,CAAlB,CAA9B;;AAEA;AACA,UAAIA,KAAK,KAAKF,QAAL,CAAcG,MAAd,GAAqB,CAA9B,EAAiC;AAC/BE,YAAIL,SAAS,CAAT,CAAJ;AACD;;AAED,UAAIE,KAAK,CAAT,EAAY;AACVtD,eAAOlB,CAAP,CAASkG,MAAT,CAAgB5B,SAAS,CAAT,EAAY9C,CAA5B,EAA+B8C,SAAS,CAAT,EAAY7C,CAA3C;;AADU;AAAA;AAAA;;AAAA;AAGV,gCAAc,KAAK8C,UAAnB,mIAA+B;AAAA,gBAAtBO,CAAsB;;AAC7B,gBAAIA,EAAEI,gBAAF,CAAmBR,CAAnB,EAAsBC,CAAtB,CAAJ,EAA8B;AAC5BzD,qBAAOlB,CAAP,CAASkG,MAAT,CAAgBvB,EAAEnD,CAAlB,EAAqBmD,EAAElD,CAAvB;AACA+C;AACD;AACF;AARS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUX,OAVD,MAUO;AACL,YAAIsD,SAAS,KAAb;;AADK;AAAA;AAAA;;AAAA;AAGL,gCAAc,KAAKvD,UAAnB,mIAA8B;AAAA,gBAArBO,EAAqB;;AAC5B,gBAAGA,GAAEI,gBAAF,CAAmBR,CAAnB,EAAsBC,CAAtB,CAAH,EAA6B;AAC3B,kBAAIH,KAAK,CAAT,EAAY;AACVtD,uBAAOlB,CAAP,CAASkG,MAAT,CAAgBxB,EAAElD,CAAlB,EAAqBkD,EAAEjD,CAAvB;AACD,eAFD,MAEO;AACLP,uBAAOlB,CAAP,CAASmG,MAAT,CAAgBzB,EAAElD,CAAlB,EAAqBkD,EAAEjD,CAAvB;AACD;AACDP,qBAAOlB,CAAP,CAASmG,MAAT,CAAgBzB,EAAElD,CAAlB,EAAqBkD,EAAEjD,CAAvB;AACAP,qBAAOlB,CAAP,CAASkG,MAAT,CAAgBvB,EAAEnD,CAAlB,EAAqBmD,EAAElD,CAAvB;;AAEA,kBAAI+C,KAAK,KAAKF,QAAL,CAAcG,MAAd,GAAqB,CAA9B,EAAiC;AAC/BvD,uBAAOlB,CAAP,CAASkG,MAAT,CAAgBvB,EAAEnD,CAAlB,EAAqBmD,EAAElD,CAAvB;AACD;;AAEDqG,uBAAS,IAAT;AACD;AACF;AAnBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBL,YAAI,CAACA,MAAL,EAAa;AACX5G,iBAAOlB,CAAP,CAASmG,MAAT,CAAgBzB,EAAElD,CAAlB,EAAqBkD,EAAEjD,CAAvB;;AAEA,cAAI+C,KAAK,KAAKF,QAAL,CAAcG,MAAd,GAAqB,CAA9B,EAAiC;AAC/BvD,mBAAOlB,CAAP,CAASmG,MAAT,CAAgBxB,EAAEnD,CAAlB,EAAqBmD,EAAElD,CAAvB;AACD;AACF;AACF;AAEF;;AAEDP,WAAOlB,CAAP,CAASoG,WAAT,GAAuBtC,KAAvB;AACA5C,WAAOlB,CAAP,CAAS+H,WAAT,GAAuB,CAAvB;AACA7G,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;;AAEA,SAAKyB,SAAL;AACD,GA3DD;;AA6DA,OAAKA,SAAL,GAAiB,YAAY;AAC3B9G,WAAOlB,CAAP,CAASwG,IAAT;AACAtF,WAAOlB,CAAP,CAASiG,SAAT;;AAF2B;AAAA;AAAA;;AAAA;AAI3B,4BAA2B,KAAK3B,QAAL,CAAc3B,OAAd,EAA3B,mIAAoD;AAAA;;AAAA;;AAAA,YAA1CC,KAA0C;AAAA,YAAnC2E,MAAmC;;AAClD,YAAI3E,SAAS,CAAb,EAAgB;AACd1B,iBAAOlB,CAAP,CAASkG,MAAT,CAAgBqB,OAAO/F,CAAvB,EAA0B+F,OAAO9F,CAAjC;AACD,SAFD,MAEO;AACLP,iBAAOlB,CAAP,CAASmG,MAAT,CAAgBoB,OAAO/F,CAAvB,EAA0B+F,OAAO9F,CAAjC;AACD;AACF;AAV0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAY3BP,WAAOlB,CAAP,CAASmG,MAAT,CAAgB,KAAK7B,QAAL,CAAc,CAAd,EAAiB9C,CAAjC,EAAoC,KAAK8C,QAAL,CAAc,CAAd,EAAiB7C,CAArD;AACAP,WAAOlB,CAAP,CAAS2G,SAAT,GAAqB,KAAKS,UAA1B;AACAlG,WAAOlB,CAAP,CAAS6G,IAAT;AACA3F,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAAS8G,OAAT;AACD,GAjBD;;AAmBA,OAAKpE,MAAL,GAAc,YAAY;AAAA;AAAA;AAAA;;AAAA;AACxB,4BAA2B,KAAKlC,OAAL,CAAamC,OAAb,EAA3B,mIAAmD;AAAA;;AAAA;;AAAA,YAAzCC,KAAyC;AAAA,YAAlCqF,KAAkC;;AACjD;AACA,YAAGA,MAAMlG,EAAN,IAAY,CAAZ,IAAiBkG,MAAM9F,OAAN,CAAcsC,MAAd,IAAwB,CAA5C,EAA+C;AAC7C,eAAKjE,OAAL,CAAauC,MAAb,CAAoBH,KAApB,EAA2B,CAA3B;AACD;AACF;AANuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAQxB,4BAA4B,KAAKyE,OAAL,CAAa1E,OAAb,EAA5B,mIAAoD;AAAA;;AAAA;;AAAA,YAA1CC,MAA0C;AAAA,YAAnCiD,MAAmC;;AAClD;AACA,YAAGA,OAAO/C,QAAP,IAAmB,CAAtB,EAAyB;AACvB,eAAKuE,OAAL,CAAatE,MAAb,CAAoBH,MAApB,EAA2B,CAA3B;AACD;AACF;AAbuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAczB,GAdD;;AAgBA,OAAKuC,YAAL,GAAoB,UAAU9E,MAAV,EAAkB;AACpC,SAAKC,OAAL,CAAayC,MAAb,CAAoB,KAAKzC,OAAL,CAAa4H,OAAb,CAAqB7H,MAArB,CAApB;AACD,GAFD;;AAIA,OAAK8H,aAAL,GAAqB,UAAUrE,KAAV,EAAiB;AACpC,SAAKsD,UAAL,GAAkBtD,KAAlB;AACD,GAFD;;AAIA,OAAKsE,WAAL,GAAmB,UAAUlE,QAAV,EAAoB;AACrC,SAAKA,QAAL,GAAgBA,QAAhB;AACD,GAFD;;AAIA,OAAKmE,SAAL,GAAiB,UAAUhI,MAAV,EAAkB;AACjC,SAAKC,OAAL,CAAaiD,IAAb,CAAkBlD,MAAlB;AACD,GAFD;;AAIA,OAAKiI,QAAL,GAAgB,UAAUL,KAAV,EAAiB;AAC/B,SAAKzH,OAAL,CAAa+C,IAAb,CAAkB0E,KAAlB;AACD,GAFD;;AAIA,OAAKM,QAAL,GAAgB,UAAU/H,OAAV,EAAmB;AACjC,SAAKA,OAAL,GAAeA,OAAf;AACD,GAFD;;AAIA,OAAKgI,UAAL,GAAkB,YAAY;AAC5B,QAAIC,cAAc,KAAKC,YAAL,CAAkBxH,OAAOH,WAAzB,CAAlB;AACA,QAAIkH,QAAQ,IAAIhB,KAAJ,CAAUwB,YAAYjH,CAAtB,EAAyBiH,YAAYhH,CAArC,EAAwC,CAAxC,EAA2C,KAAKC,EAAhD,EAAoDR,OAAOT,QAAP,EAApD,CAAZ;AACAS,WAAOV,OAAP,CAAe+C,IAAf,CAAoB0E,KAApB;AACA,SAAKK,QAAL,CAAcL,KAAd;AACD,GALD;;AAOA,OAAK5C,WAAL,GAAmB,UAAUhF,MAAV,EAAkB;AACnC,SAAKgI,SAAL,CAAehI,MAAf;;AAEA,QAAIsI,SAAS5B,KAAK6B,kBAAL,CAAwB,CAAxB,EAA0B,EAA1B,CAAb;;AAEA,QAAID,UAAU,EAAd,EAAkB;AAChB,WAAKH,UAAL;AACD,KAFD,MAEO,IAAIG,UAAU,CAAV,IAAeA,UAAU,CAA7B,EAAgC;AACrC,UAAIpB,SAAS,KAAKmB,YAAL,EAAb;AACA,WAAKrB,OAAL,CAAa9D,IAAb,CAAkB,IAAI2D,SAAJ,CAAcK,OAAO/F,CAArB,EAAwB+F,OAAO9F,CAA/B,EAAkC,IAAlC,EAAwC,KAAxC,EAA+C,GAA/C,CAAlB;AACD;AACF,GAXD;;AAaA,OAAKoH,YAAL,GAAoB,YAAY;AAC9B,QAAIF,SAAS5B,KAAK6B,kBAAL,CAAwB,CAAxB,EAA0B,EAA1B,CAAb;;AAEA,QAAID,UAAU,CAAV,IAAeA,UAAU,CAA7B,EAAgC;AAC9B,UAAIpB,SAAS,KAAKmB,YAAL,EAAb;AACA,WAAKrB,OAAL,CAAa9D,IAAb,CAAkB,IAAI2D,SAAJ,CAAcK,OAAO/F,CAArB,EAAwB+F,OAAO9F,CAA/B,EAAkC,IAAlC,EAAwC,KAAxC,EAA+C,GAA/C,CAAlB;AACD;AACF,GAPD;;AASA;;;;;;;AAOA,OAAKiH,YAAL,GAAoB,YAAmB;AAAA,QAATI,GAAS,uEAAH,CAAG;;AACrC,QAAIC,UAAU,KAAKC,aAAL,EAAd;AACA,QAAIC,WAAW,IAAf;AACA,QAAIC,QAAQ,IAAZ;;AAEA,WAAOD,QAAP,EAAiB;AACfC,cAAQ,IAAIlC,MAAJ,CACND,KAAK6B,kBAAL,CAAwBG,QAAQI,IAAR,GAAeL,GAAvC,EAA4CC,QAAQK,IAAR,GAAeN,GAA3D,CADM,EAEN/B,KAAK6B,kBAAL,CAAwBG,QAAQM,IAAR,GAAeP,GAAvC,EAA4CC,QAAQO,IAAR,GAAeR,GAA3D,CAFM,CAAR;;AAKAG,iBAAW,CAAC,KAAKM,YAAL,CAAkBL,KAAlB,CAAZ;AACD;;AAED,WAAOA,KAAP;AACD,GAfD;;AAiBA,OAAKF,aAAL,GAAqB,YAAY;AAC/B,QAAIG,OAAO,KAAK7E,QAAL,CAAc,CAAd,EAAiB9C,CAA5B;AACA,QAAI4H,OAAO,KAAK9E,QAAL,CAAc,CAAd,EAAiB9C,CAA5B;AACA,QAAI6H,OAAO,KAAK/E,QAAL,CAAc,CAAd,EAAiB7C,CAA5B;AACA,QAAI6H,OAAO,KAAKhF,QAAL,CAAc,CAAd,EAAiB7C,CAA5B;;AAJ+B;AAAA;AAAA;;AAAA;AAM/B,4BAAmB,KAAK6C,QAAxB,mIAAkC;AAAA,YAAzBiD,MAAyB;;AAChC,YAAIA,OAAO/F,CAAP,GAAW2H,IAAf,EAAqB;AACnBA,iBAAO5B,OAAO/F,CAAd;AACD;;AAED,YAAI+F,OAAO/F,CAAP,GAAW4H,IAAf,EAAqB;AACnBA,iBAAO7B,OAAO/F,CAAd;AACD;;AAED,YAAI+F,OAAO9F,CAAP,GAAW4H,IAAf,EAAqB;AACnBA,iBAAO9B,OAAO9F,CAAd;AACD;;AAED,YAAI8F,OAAO9F,CAAP,GAAW6H,IAAf,EAAqB;AACnBA,iBAAO/B,OAAO9F,CAAd;AACD;AACF;AAtB8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwB/B,WAAO;AACL,cAAQ0H,IADH;AAEL,cAAQC,IAFH;AAGL,cAAQC,IAHH;AAIL,cAAQC;AAJH,KAAP;AAMD,GA9BD;;AAgCA,OAAKC,YAAL,GAAoB,UAAUhC,MAAV,EAAkB;AACpC,QAAIjD,WAAW,KAAKA,QAApB;AACA,QAAME,UAAN;AAAA,QAASgF,IAAIlF,SAASG,MAAT,GAAgB,CAA7B;AACA,QAAIgF,SAAS,KAAb;;AAEA,SAAKjF,IAAI,CAAT,EAAYA,IAAIF,SAASG,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,UAAI,CAACF,SAASE,CAAT,EAAY/C,CAAZ,GAAgB8F,OAAO9F,CAAvB,IAA4B6C,SAASkF,CAAT,EAAY/H,CAAZ,IAAiB8F,OAAO9F,CAApD,IACE6C,SAASkF,CAAT,EAAY/H,CAAZ,GAAgB8F,OAAO9F,CAAvB,IAA4B6C,SAASE,CAAT,EAAY/C,CAAZ,IAAiB8F,OAAO9F,CADvD,MAEG6C,SAASE,CAAT,EAAYhD,CAAZ,IAAiB+F,OAAO/F,CAAxB,IAA6B8C,SAASkF,CAAT,EAAYhI,CAAZ,IAAiB+F,OAAO/F,CAFxD,CAAJ,EAEgE;;AAE9DiI,iBAASA,SAAWnF,SAASE,CAAT,EAAYhD,CAAZ,GAAgB,CAAC+F,OAAO9F,CAAP,GAAW6C,SAASE,CAAT,EAAY/C,CAAxB,KACrB6C,SAASkF,CAAT,EAAY/H,CAAZ,GAAgB6C,SAASE,CAAT,EAAY/C,CADP,KAErB6C,SAASkF,CAAT,EAAYhI,CAAZ,GAAgB8C,SAASE,CAAT,EAAYhD,CAFP,CAAhB,GAE4B+F,OAAO/F,CAFvD;AAGD;AACDgI,UAAEhF,CAAF;AACD;;AAED,WAAOiF,MAAP;AACD,GAlBD;;AAoBA,OAAKZ,YAAL;AACD,E;;;;;;;;;ACtRDhJ,OAAOC,OAAP,GAAiBkH,MAAjB;;AAEA,SAASA,MAAT,CAAiBxF,CAAjB,EAAoBC,CAApB,EAAuB;AACrB,OAAKD,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;;AAEA,OAAKoG,KAAL,GAAa,UAAU6B,KAAV,EAAiB;AAC5B,WAAO,KAAKlI,CAAL,IAAUkI,MAAMlI,CAAhB,IAAqB,KAAKC,CAAL,IAAUiI,MAAMjI,CAA5C;AACD,GAFD;AAGD,C;;;;;;;;;ACTD5B,OAAOC,OAAP,GAAiB;AACjB;AACE8I,sBAAoB,4BAAUtD,GAAV,EAAeC,GAAf,EAAoB;AACtC,WAAOpC,KAAKwG,KAAL,CAAWxG,KAAKwF,MAAL,MAAiBpD,MAAMD,GAAN,GAAY,CAA7B,IAAkCA,GAA7C,CAAP;AACD,GAJc;;AAMfsE,eAAa,qBAAU5I,MAAV,EAAkB;AAC7B,WAAOA,OAAOmC,KAAKwG,KAAL,CAAWxG,KAAKwF,MAAL,KAAgB3H,OAAOyD,MAAlC,CAAP,CAAP;AACD,GARc;;AAUfoF,eAAa,qBAAUC,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0B;AACrC,QAAIC,YAAYF,KAAKF,EAArB;AACA,QAAIK,YAAYF,KAAKF,EAArB;;AAEA,WAAO5G,KAAKiH,IAAL,CAAUjH,KAAKkH,GAAL,CAASH,SAAT,EAAoB,CAApB,IAAyB/G,KAAKkH,GAAL,CAASF,SAAT,EAAoB,CAApB,CAAnC,CAAP;AACD;AAfc,CAAjB,C;;;;;;;;;ACAA,IAAIjJ,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAI4F,OAAO,mBAAA5F,CAAQ,CAAR,CAAX;AACA,IAAIC,aAAa,mBAAAD,CAAQ,CAAR,CAAjB;AACA,IAAI6F,SAAS,mBAAA7F,CAAQ,CAAR,CAAb;AACA,IAAIE,SAAS,mBAAAF,CAAQ,CAAR,CAAb;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;AACA,IAAI8F,QAAQ,mBAAA9F,CAAQ,CAAR,CAAZ;;AAEAtB,OAAOC,OAAP,GAAiBwB,MAAjB;;AAEA;AACA,SAASA,MAAT,CAAiBE,CAAjB,EAAoBC,CAApB,EAAuBgC,EAAvB,EAA2BE,EAA3B,EAA+BE,MAA/B,EAAuCf,QAAvC,EAAiDY,SAAjD,EAA4DI,KAA5D,EAAmEwG,KAAnE,EAA0E;AACxE,OAAK9I,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACA,OAAKmC,MAAL,GAAc,CAAd;AACA,OAAKF,SAAL,GAAiBA,SAAjB;AACA,OAAKD,EAAL,GAAUA,KAAK,KAAKC,SAApB;AACA,OAAKC,EAAL,GAAUA,KAAK,KAAKD,SAApB;AACA,OAAKZ,QAAL,GAAgBA,QAAhB;AACA,OAAKe,MAAL,GAAcA,MAAd;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKwG,KAAL,GAAaA,KAAb;;AAEA,OAAK5H,MAAL,GAAc,YAAY;AACxB;AACA;AACA;AACA,SAAK6H,aAAL;AACA;AACA;AACA;AACA;;AAEA,QAAIjG,WAAW,KAAKT,MAAL,CAAYS,QAA3B;AACA,QAAIC,aAAa,KAAKV,MAAL,CAAYU,UAA7B;;AAEA,SAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,SAASG,MAA5B,EAAoCD,GAApC,EAAyC;AACvC,UAAIE,IAAIJ,SAASE,CAAT,CAAR;AAAA,UAAqBG,IAAIL,SAASE,IAAI,CAAb,CAAzB;AACA,UAAIsD,SAAS,KAAb;;AAEA;AACA,UAAItD,KAAKF,SAASG,MAAT,GAAkB,CAA3B,EAA8B;AAC5BE,YAAIL,SAAS,CAAT,CAAJ;AACD;;AAED,UAAIlD,WAAWwD,YAAX,CAAwB,KAAKpD,CAA7B,EAAgC,KAAKC,CAArC,EAAyC,KAAKD,CAAN,GAAY,KAAKiC,EAAzD,EAA8D,KAAKhC,CAAN,GAAY,KAAKkC,EAA9E,EAAkFe,EAAElD,CAApF,EAAuFkD,EAAEjD,CAAzF,EAA4FkD,EAAEnD,CAA9F,EAAiGmD,EAAElD,CAAnG,KACFL,WAAWyD,SAAX,CAAsB,KAAKrD,CAAN,GAAY,KAAKiC,EAAtC,EAA2C,KAAKhC,CAAN,GAAY,KAAKkC,EAA3D,EAA+De,EAAElD,CAAjE,EAAoEkD,EAAEjD,CAAtE,EAAyEkD,EAAEnD,CAA3E,EAA8EmD,EAAElD,CAAhF,IAAqF,CADvF,EAC0F;AAAA;AAAA;AAAA;;AAAA;;AAExF,+BAAc8C,UAAd,8HAA0B;AAAA,gBAAjBO,CAAiB;;AACxB,gBAAIA,EAAEI,gBAAF,CAAmBR,CAAnB,EAAsBC,CAAtB,CAAJ,EAA8B;AAC5B,mBAAKd,MAAL,GAAciB,CAAd;AACAgD,uBAAS,IAAT;AACD;AACF;AAPuF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQxF,YAAI,CAACA,MAAL,EAAa;AACX,eAAKhF,QAAL,GAAgB,CAAhB;AACD;AACF;AACF;;AAED,QAAG,KAAKA,QAAL,GAAgB,CAAnB,EAAsB;AACpB,WAAKtB,CAAL,IAAU,KAAKiC,EAAf;AACA,WAAKhC,CAAL,IAAU,KAAKkC,EAAf;AACA,WAAKb,QAAL,IAAiB,CAAjB;AACD;AACF,GA1CD;;AA4CA,OAAKyH,aAAL,GAAqB,YAAY;AAAA;AAAA;AAAA;;AAAA;AAC/B,4BAAkB,KAAK1G,MAAL,CAAYrD,OAA9B,mIAAuC;AAAA,YAA9ByH,KAA8B;;AACrC,YAAIlB,KAAK8C,WAAL,CAAiB5B,MAAMzG,CAAvB,EAA0ByG,MAAMxG,CAAhC,EAAmC,KAAKD,CAAxC,EAA2C,KAAKC,CAAhD,IAAqD,KAAKmC,MAAL,GAAcqE,MAAMrE,MAAzE,IAAmFqE,MAAMlG,EAAN,GAAW,CAAlG,EAAqG;AACnGkG,gBAAMxC,GAAN;AACA,eAAK+E,UAAL;AACD;AACF;AAN8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOhC,GAPD;;AASA,OAAKC,cAAL,GAAsB,YAAY;AAAA;AAAA;AAAA;;AAAA;AAChC,4BAAmB,KAAK5G,MAAL,CAAYvD,OAA/B,mIAAwC;AAAA,YAA/BD,MAA+B;;AACtC,YAAI0G,KAAK8C,WAAL,CAAiBxJ,OAAOmB,CAAxB,EAA2BnB,OAAOoB,CAAlC,EAAqC,KAAKD,CAA1C,EAA6C,KAAKC,CAAlD,IAAuD,KAAKmC,MAAL,GAAcvD,OAAOwB,MAAhF,EAAwF;AACtFxB,iBAAOoF,GAAP;AACA,eAAK+E,UAAL;AACD;AACF;AAN+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOjC,GAPD;;AASA,OAAKxE,IAAL,GAAY,YAAY;AACtB9E,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAAS0K,GAAT,CAAa,KAAKlJ,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKmC,MAAlC,EAA0C,CAA1C,EAA6CT,KAAKwH,EAAL,GAAU,CAAvD,EAA0D,KAA1D;AACAzJ,WAAOlB,CAAP,CAAS2G,SAAT,GAAqB,KAAK7C,KAA1B;AACA5C,WAAOlB,CAAP,CAAS6G,IAAT;AACA3F,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,GAArB;AACAnF,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACArF,WAAOlB,CAAP,CAASqG,SAAT,GAAqB,CAArB;AACD,GATD;;AAWA,OAAKmE,UAAL,GAAkB,YAAY;AAC5B,SAAK1H,QAAL,GAAgB,CAAhB;AACD,GAFD;;AAIA,OAAKE,MAAL,GAAc,YAAY;AACxB,WAAO,IAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;ACvGD,IAAI9B,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAI4F,OAAO,mBAAA5F,CAAQ,CAAR,CAAX;AACA,IAAI6F,SAAS,mBAAA7F,CAAQ,CAAR,CAAb;AACA,IAAIE,SAAS,mBAAAF,CAAQ,CAAR,CAAb;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;AACA,IAAIG,SAAS,mBAAAH,CAAQ,CAAR,CAAb;AACA,IAAI+F,YAAY,mBAAA/F,CAAQ,CAAR,CAAhB;;AAEAtB,OAAOC,OAAP,GAAiBmH,KAAjB;;AAEA,SAASA,KAAT,CAAgBzF,CAAhB,EAAmBC,CAAnB,EAAsBM,EAAtB,EAA0B8B,MAA1B,EAAkCnC,EAAlC,EAAsC;AACpC,OAAKF,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACA,OAAKqC,KAAL,GAAa,QAAb;AACA,OAAKF,MAAL,GAAc1C,OAAOH,WAArB;AACA,OAAKW,EAAL,GAAUA,EAAV;;AAEA,OAAKkJ,WAAL,GAAmB,GAAnB;AACA,OAAKC,UAAL,GAAkB,CAAlB;AACA,OAAKC,eAAL,GAAuB,CAAvB;AACA,OAAK3I,OAAL,GAAe,EAAf;;AAEA,OAAKJ,EAAL,GAAUA,EAAV;AACA,OAAK8B,MAAL,GAAcA,MAAd;;AAEA,OAAK4B,GAAL,GAAW,YAAY;AACrB,SAAK7B,MAAL,IAAe,CAAf;AACA,SAAK7B,EAAL;AACD,GAHD;;AAKA,OAAKW,MAAL,GAAc,YAAY;;AAExB,QAAI,KAAKmI,UAAL,IAAmB,KAAKD,WAAxB,IAAuC,KAAK7I,EAAL,GAAU,CAArD,EAAwD;AAAA;AAAA;AAAA;;AAAA;AACtD,6BAAmB,KAAKuB,SAAL,GAAiBhD,OAApC,8HAA6C;AAAA,cAApCD,MAAoC;;AAC3C,eAAK0K,MAAL;AACD;AAHqD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIvD;;AANuB;AAAA;AAAA;;AAAA;AAQxB,4BAA4B,KAAK5I,OAAL,CAAaQ,OAAb,EAA5B,mIAAoD;AAAA;;AAAA;;AAAA,YAA1CC,KAA0C;AAAA,YAAnCC,MAAmC;;AAClDA,eAAOH,MAAP;;AAEA,YAAIG,OAAOC,QAAP,IAAmB,CAAvB,EAA0B;AACxB,eAAKX,OAAL,CAAaY,MAAb,CAAoBH,KAApB,EAA2B,CAA3B;AACD;AACF;AAduB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgBxB,SAAKiI,UAAL;AACD,GAjBD;;AAmBA,OAAKE,MAAL,GAAc,YAAY;AACxB,QAAIC,eAAejE,KAAK6B,kBAAL,CAAwB,CAAC,EAAzB,EAA6B,EAA7B,CAAnB;;AAEA,SAAK,IAAIpE,IAAI,CAAb,EAAgBA,IAAI,KAAKsG,eAAzB,EAA0CtG,GAA1C,EAA+C;AAC7C,UAAI7C,QAAW,MAAI,KAAKmJ,eAAV,IAA8BtG,IAAI,CAAlC,IAAuCrB,KAAKwH,EAA7C,GAAmD,GAApD,GAA2DK,YAAvE;AACA,UAAIC,QAAQlE,KAAK6B,kBAAL,CAAwB,CAAxB,EAA0B,CAA1B,CAAZ;;AAEA,WAAKzG,OAAL,CAAaoB,IAAb,CACE,IAAIjC,MAAJ,CACE,KAAKE,CADP,EAEE,KAAKC,CAFP,EAGE0B,KAAKC,GAAL,CAASzB,KAAT,IAAkBsJ,KAHpB,EAIE9H,KAAKE,GAAL,CAAS1B,KAAT,IAAkBsJ,KAJpB,EAKE,KAAK3H,SAAL,EALF,EAME,GANF,EAOE,CAPF,EAQE,KARF,EASE,IATF,CADF;AAaD;AACD,SAAKuH,UAAL,GAAkB,CAAlB;AACD,GAtBD;;AAwBA,OAAK7E,IAAL,GAAY,YAAY;AACtB9E,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAAS0K,GAAT,CAAa,KAAKlJ,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKmC,MAAlC,EAA0C,CAA1C,EAA6CT,KAAKwH,EAAL,GAAU,CAAvD,EAA0D,KAA1D;AACAzJ,WAAOlB,CAAP,CAAS2G,SAAT,GAAqB,KAAK7C,KAA1B;AACA5C,WAAOlB,CAAP,CAAS6G,IAAT;AACA3F,WAAOlB,CAAP,CAASoG,WAAT,GAAuB,OAAvB;AACAlF,WAAOlB,CAAP,CAASsG,MAAT;AACApF,WAAOlB,CAAP,CAASuG,SAAT;AACD,GARD;;AAUA,OAAKnB,SAAL,GAAiB,UAAU1D,EAAV,EAAc;AAC7B,SAAKM,aAAL,GAAqBN,EAArB;AACD,GAFD;;AAIA,OAAK4B,SAAL,GAAiB,YAAY;AAAA;;AAC3B,WAAOpC,OAAOX,OAAP,CAAeiF,MAAf,CAAsB;AAAA,aAAU3B,OAAOnC,EAAP,KAAc,MAAKmC,MAA7B;AAAA,KAAtB,EAA2D,CAA3D,CAAP;AACD,GAFD;AAGD,E;;;;;;;;;AC1FDhE,OAAOC,OAAP,GAAiB;;AAEjB;;AAEA;AACEoL,SAAO,eAAUC,KAAV,EAAiB7F,GAAjB,EAAsBC,GAAtB,EAA2B;AAChC,WAAOpC,KAAKmC,GAAL,CAASnC,KAAKoC,GAAL,CAAS4F,KAAT,EAAgB7F,GAAhB,CAAT,EAA+BC,GAA/B,CAAP;AACD,GAPc;;AASjB;AACEX,gBAAc,sBAAUwG,EAAV,EAAcC,EAAd,EAAkBvB,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8BC,EAA9B,EAAkCqB,EAAlC,EAAsCC,EAAtC,EAA0C;AACtD,WAAO,KAAKC,OAAL,CAAaJ,EAAb,EAAiBtB,EAAjB,EAAqBE,EAArB,EAAyBsB,EAAzB,KAAgC,KAAKE,OAAL,CAAaH,EAAb,EAAiBtB,EAAjB,EAAqBE,EAArB,EAAyBsB,EAAzB,CAAvC;AACD,GAZc;;AAcjB;AACEC,WAAS,iBAAUC,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0B;AACjC,WAAOzI,KAAKmC,GAAL,CAASmG,EAAT,EAAaC,EAAb,KAAoBvI,KAAKoC,GAAL,CAASoG,EAAT,EAAaC,EAAb,CAApB,IAAwCzI,KAAKmC,GAAL,CAASqG,EAAT,EAAaC,EAAb,KAAoBzI,KAAKoC,GAAL,CAASkG,EAAT,EAAaC,EAAb,CAAnE;AACD,GAjBc;;AAmBfG,OAAK,aAAUT,EAAV,EAAcC,EAAd,EAAkBvB,EAAlB,EAAsBC,EAAtB,EAA0B;AAC7B,WAASqB,KAAKrB,EAAN,GAAaD,KAAKuB,EAA1B;AACD,GArBc;;AAuBfxG,aAAW,mBAAUiH,EAAV,EAAcC,EAAd,EAAkBX,EAAlB,EAAsBC,EAAtB,EAA0BvB,EAA1B,EAA8BC,EAA9B,EAAkC;AAC3C,WAAO,KAAK8B,GAAL,CAAU/B,KAAKsB,EAAf,EAAqBrB,KAAKsB,EAA1B,EAAgCS,KAAKV,EAArC,EAA2CW,KAAKV,EAAhD,CAAP;AACD,GAzBc;;AA2BfW,aAAW,mBAAUlC,EAAV,EAAcC,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0BqB,EAA1B,EAA8BC,EAA9B,EAAkCU,EAAlC,EAAsCC,EAAtC,EAA0C;AACnD,QAAIC,MAAM,EAAV;;AAEAA,QAAI3K,CAAJ,GAAQ,KAAKqK,GAAL,CAAS,KAAKA,GAAL,CAAS/B,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,CAAT,EAAqCH,KAAKE,EAA1C,EAAgD,KAAK6B,GAAL,CAASP,EAAT,EAAaC,EAAb,EAAiBU,EAAjB,EAAqBC,EAArB,CAAhD,EACFZ,KAAKW,EADH,IACW,KAAKJ,GAAL,CAAW/B,KAAKE,EAAhB,EAAwBD,KAAKE,EAA7B,EAAqCqB,KAAKW,EAA1C,EAAkDV,KAAKW,EAAvD,CADnB;;AAGAC,QAAI1K,CAAJ,GAAQ,KAAKoK,GAAL,CAAS,KAAKA,GAAL,CAAS/B,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,CAAT,EAAqCF,KAAKE,EAA1C,EAAgD,KAAK4B,GAAL,CAASP,EAAT,EAAaC,EAAb,EAAiBU,EAAjB,EAAqBC,EAArB,CAAhD,EACFX,KAAKW,EADH,IACW,KAAKL,GAAL,CAAW/B,KAAKE,EAAhB,EAAwBD,KAAKE,EAA7B,EAAqCqB,KAAKW,EAA1C,EAAkDV,KAAKW,EAAvD,CADnB;;AAGA,WAAOC,GAAP;AACD;AArCc,CAAjB,C;;;;;;;;;ACAA,IAAIjL,SAAU,mBAAAC,CAAQ,CAAR,CAAd;AACA,IAAI4F,OAAO,mBAAA5F,CAAQ,CAAR,CAAX;AACA,IAAIE,SAAS,mBAAAF,CAAQ,CAAR,CAAb;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;;AAEAtB,OAAOC,OAAP,GAAiBoH,SAAjB;;AAEA;AACA,SAASA,SAAT,CAAoB1F,CAApB,EAAuBC,CAAvB,EAA0BoC,MAA1B,EAAkCC,KAAlC,EAAyCgC,QAAzC,EAAmD;AACjD,OAAKtE,CAAL,GAASA,CAAT;AACA,OAAKC,CAAL,GAASA,CAAT;AACA,OAAKmC,MAAL,GAAc,CAAd;AACA,OAAKC,MAAL,GAAcA,MAAd;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKgC,QAAL,GAAgBA,QAAhB;AACA,OAAKD,MAAL,GAAc,GAAd;AACA,OAAKpD,SAAL,GAAiB,GAAjB;AACA,OAAKK,QAAL,GAAgB,CAAhB;;AAEA,OAAKJ,MAAL,GAAc,YAAY;AACxB,SAAK+H,cAAL;;AAEA;AACA;AACA;AACA;AACD,GAPD;;AASA,OAAKA,cAAL,GAAsB,YAAY;AAAA;AAAA;AAAA;;AAAA;AAChC,2BAAmB,KAAK5G,MAAL,CAAYvD,OAA/B,8HAAwC;AAAA,YAA/BD,MAA+B;;AACtC,YAAI0G,KAAK8C,WAAL,CAAiBxJ,OAAOmB,CAAxB,EAA2BnB,OAAOoB,CAAlC,EAAqC,KAAKD,CAA1C,EAA6C,KAAKC,CAAlD,IAAuD,KAAKmC,MAAL,GAAcvD,OAAOwB,MAAhF,EAAwF;AACtFxB,iBAAOuF,SAAP,CAAiB,KAAKC,MAAtB,EAA8B,KAAKC,QAAnC,EAA6C,KAAKrD,SAAlD;AACA,eAAK2J,YAAL;AACD;AACF;AAN+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOjC,GAPD;;AASA,OAAKpG,IAAL,GAAY,YAAY;AACtB9E,WAAOlB,CAAP,CAASiG,SAAT;AACA/E,WAAOlB,CAAP,CAAS0K,GAAT,CAAa,KAAKlJ,CAAlB,EAAqB,KAAKC,CAA1B,EAA6B,KAAKmC,MAAlC,EAA0C,CAA1C,EAA6CT,KAAKwH,EAAL,GAAU,CAAvD,EAA0D,KAA1D;AACAzJ,WAAOlB,CAAP,CAAS2G,SAAT,GAAqB,KAAK7C,KAA1B;AACA5C,WAAOlB,CAAP,CAAS6G,IAAT;AACA3F,WAAOlB,CAAP,CAASuG,SAAT;AACD,GAND;;AAQA,OAAK6F,YAAL,GAAoB,YAAY;AAC9B,SAAKtJ,QAAL,GAAgB,CAAhB;AACD,GAFD;;AAIA,OAAKE,MAAL,GAAc,YAAY;AACxB,WAAO,IAAP;AACD,GAFD;AAGD,C;;;;;;;;;ACpDD,IAAI9B,SAAS,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;;AAEArB,QAAQuM,WAAR,GAAsB,YAAY;AAChC,MAAInK,cAAc,CAAE,CAAF,EAAK,CAAL,CAAlB;AAAA,MAA4BoK,SAAS,KAArC;AAAA,MAA4CC,OAAO,KAAnD;;AAEA;AACA,MAAIrL,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClBsF,YAAQC,GAAR,CAAY,aAAZ;AACD;AACD;AACA,MAAIzE,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClBc,WAAOb,MAAP,CAAc8D,WAAd,CAA0B,IAA1B;AACA;AACD;AACD;AACA,MAAIjD,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClBc,WAAOb,MAAP,CAAc8D,WAAd,CAA0B,KAA1B;AACA;AACD;AACD;AACA,MAAIjD,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClBsF,YAAQC,GAAR,CAAY,eAAZ;AACD;AACD;AACA,MAAIzE,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClB8B,gBAAY,CAAZ,KAAkBiB,KAAKE,GAAL,CAASnC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACAuB,gBAAY,CAAZ,KAAkBiB,KAAKC,GAAL,CAASlC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACA2L,aAAS,IAAT;AACD;AACD;AACA,MAAIpL,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClB8B,gBAAY,CAAZ,KAAkBiB,KAAKE,GAAL,CAASnC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACAuB,gBAAY,CAAZ,KAAkBiB,KAAKC,GAAL,CAASlC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACA2L,aAAS,IAAT;AACD;AACD;AACA,MAAIpL,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClB8B,gBAAY,CAAZ,KAAkBiB,KAAKC,GAAL,CAASlC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACAuB,gBAAY,CAAZ,KAAkBiB,KAAKE,GAAL,CAASnC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACD;AACD;AACA,MAAIO,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClB8B,gBAAY,CAAZ,KAAkBiB,KAAKC,GAAL,CAASlC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACAuB,gBAAY,CAAZ,KAAkBiB,KAAKE,GAAL,CAASnC,OAAOb,MAAP,CAAcsB,KAAvB,IAAgCT,OAAOP,SAAzD;AACA4L,WAAO,IAAP;AACD;AACD;AACA,MAAIrL,OAAOd,GAAP,CAAW,EAAX,CAAJ,EAAoB;AAClBc,WAAOb,MAAP,CAAc6C,IAAd;AACD;;AAED,MAAIqJ,IAAJ,EAAU;AACRrK,gBAAY,CAAZ,IAAiBA,YAAY,CAAZ,IAAiBhB,OAAOL,cAAzC;AACAqB,gBAAY,CAAZ,IAAiBA,YAAY,CAAZ,IAAiBhB,OAAOL,cAAzC;AACD,GAHD,MAGO,IAAGyL,MAAH,EAAW;AAChBpK,gBAAY,CAAZ,IAAiBA,YAAY,CAAZ,IAAiBhB,OAAON,eAAzC;AACAsB,gBAAY,CAAZ,IAAiBA,YAAY,CAAZ,IAAiBhB,OAAON,eAAzC;AACD;;AAEDM,SAAOb,MAAP,CAAcgE,SAAd,CAAwBnC,WAAxB;AACD,CA1DD,C;;;;;;;;;ACHA,IAAIsK,eAAe,mBAAArL,CAAQ,CAAR,CAAnB;AACA,IAAII,SAAS,mBAAAJ,CAAQ,CAAR,CAAb;AACA,IAAI6F,SAAS,mBAAA7F,CAAQ,CAAR,CAAb;AACA,IAAIE,SAAS,mBAAAF,CAAQ,CAAR,CAAb;AACA,IAAI8F,QAAQ,mBAAA9F,CAAQ,CAAR,CAAZ;AACA,IAAIG,SAAS,mBAAAH,CAAQ,CAAR,CAAb;AACA,IAAID,SAAS,mBAAAC,CAAQ,CAAR,CAAb;;AAEAD,OAAOjB,MAAP,GAAgBwM,IAAhB;AACAvL,OAAOjB,MAAP,CAAcyM,EAAd,CAAiB,cAAjB,EAAiC,UAAShL,EAAT,EAAa;AAC5CgE,UAAQC,GAAR,CAAYjE,EAAZ;AACAR,SAAOb,MAAP,GAAgB,IAAIkB,MAAJ,CAAW,GAAX,EAAgB,GAAhB,EAAqBG,EAArB,CAAhB;AACAR,SAAOZ,OAAP,CAAeiD,IAAf,CAAoBrC,OAAOb,MAA3B;;AAEAa,SAAOb,MAAP,CAAc+E,SAAd,CAAwB,CAAxB;AACAlE,SAAOX,OAAP,CAAe,CAAf,EAAkB8E,WAAlB,CAA8BnE,OAAOb,MAArC;;AAEAa,SAAOjB,MAAP,CAAcuD,IAAd,CAAmB,YAAnB,EAAiCmJ,KAAKC,SAAL,CAAe1L,OAAOb,MAAtB,CAAjC;AACD,CATD;;AAWAa,OAAOjB,MAAP,CAAcyM,EAAd,CAAiB,UAAjB,EAA6B,UAASG,IAAT,EAAe;AAC1C;;AAD0C;AAAA;AAAA;;AAAA;AAG1C,yBAAcA,IAAd,8HAAoB;AAAA,UAAXC,CAAW;;AAClB,UAAIA,MAAM,IAAN,IAAc5L,OAAOjB,MAAP,CAAcyB,EAAd,KAAqBoL,EAAEpL,EAAzC,EAA6C;AAC3CR,eAAOZ,OAAP,CAAeiD,IAAf,CAAoB,IAAIhC,MAAJ,CAAWuL,EAAEtL,CAAb,EAAgBsL,EAAErL,CAAlB,EAAqBqL,EAAEpL,EAAvB,CAApB;AACD;AACD;AACD;AARyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAS3C,CATD;;AAWAR,OAAOjB,MAAP,CAAcyM,EAAd,CAAiB,eAAjB,EAAkC,UAASG,IAAT,EAAe;AAC/CA,SAAOF,KAAKI,KAAL,CAAWF,IAAX,CAAP;AACA,MAAIG,YAAY,IAAIzL,MAAJ,CAAWsL,KAAKrL,CAAhB,EAAmBqL,KAAKpL,CAAxB,EAA2BoL,KAAKnL,EAAhC,CAAhB;AACA;;AAEAR,SAAOZ,OAAP,CAAeiD,IAAf,CAAoByJ,SAApB;AACD,CAND;;AAQA9L,OAAOjB,MAAP,CAAcyM,EAAd,CAAiB,aAAjB,EAAgC,UAASG,IAAT,EAAe;AAC7C,MAAIA,SAAS,IAAb,EAAmB;AACjB;AACD;;AAED,MAAII,gBAAgB,EAApB;;AAEA;AACA,OAAK,IAAIzI,IAAI,CAAb,EAAgBA,IAAItD,OAAOZ,OAAP,CAAemE,MAAnC,EAA2CD,GAA3C,EAAgD;AAC9C,SAAK,IAAIgF,IAAI,CAAb,EAAgBA,IAAIqD,KAAKpI,MAAzB,EAAiC+E,GAAjC,EAAsC;AACpC,UAAIqD,KAAKrD,CAAL,EAAQ9H,EAAR,KAAeR,OAAOZ,OAAP,CAAekE,CAAf,EAAkB9C,EAArC,EAAyC;AACvCR,eAAOZ,OAAP,CAAekE,CAAf,EAAkBhD,CAAlB,GAAsBqL,KAAKrD,CAAL,EAAQhI,CAA9B;AACAN,eAAOZ,OAAP,CAAekE,CAAf,EAAkB/C,CAAlB,GAAsBoL,KAAKrD,CAAL,EAAQ/H,CAA9B;AACAwL,sBAAczI,CAAd,IAAmB,KAAnB;AACD;AACF;AACF;;AAED;AACA,OAAK,IAAIA,KAAI,CAAb,EAAgBA,KAAItD,OAAOZ,OAAP,CAAemE,MAAnC,EAA2CD,IAA3C,EAAgD;AAC9C,QAAIyI,cAAczI,EAAd,MAAqBvC,SAAzB,EAAoC;AAClCf,aAAOZ,OAAP,CAAeyC,MAAf,CAAsByB,EAAtB,EAAyB,CAAzB;AACD;AACF;AACF,CAxBD;;AA0BAtD,OAAOjB,MAAP,CAAcyM,EAAd,CAAiB,YAAjB,EAA+B,UAASG,IAAT,EAAe;AAC5C,MAAIK,cAAchM,OAAOZ,OAAP,CAAe6M,SAAf,CAAyB;AAAA,WAAK3I,EAAE9C,EAAF,KAASmL,KAAKnL,EAAnB;AAAA,GAAzB,CAAlB;;AAEA,MAAKwL,gBAAgB,CAAC,CAAtB,EAAyB;AACvB,QAAI7M,SAASa,OAAOZ,OAAP,CAAe4M,WAAf,CAAb;;AAEA,QAAIL,KAAKrL,CAAL,KAAWS,SAAf,EAA0B;AACxB5B,aAAOmB,CAAP,GAAWqL,KAAKrL,CAAhB;AACD;AACD,QAAIqL,KAAKpL,CAAL,KAAWQ,SAAf,EAA0B;AACxB5B,aAAOoB,CAAP,GAAWoL,KAAKpL,CAAhB;AACD;AACD,QAAIoL,KAAKlL,KAAL,KAAeM,SAAnB,EAA8B;AAC5B5B,aAAOsB,KAAP,GAAekL,KAAKlL,KAApB;AACD;AACD,QAAIkL,KAAKhK,MAAL,KAAgBZ,SAApB,EAA+B;AAC7B,UAAImL,cAAclM,OAAOX,OAAP,CAAe4M,SAAf,CAAyB;AAAA,eAAK3I,EAAE9C,EAAF,KAASmL,KAAKhK,MAAL,CAAYgB,MAA1B;AAAA,OAAzB,CAAlB;;AAEAxD,aAAO8B,OAAP,CAAeoB,IAAf,CAAoB,IAAIjC,MAAJ,CAClBuL,KAAKhK,MAAL,CAAYrB,CADM,EAElBqL,KAAKhK,MAAL,CAAYpB,CAFM,EAGlBoL,KAAKhK,MAAL,CAAYY,EAHM,EAIlBoJ,KAAKhK,MAAL,CAAYc,EAJM,EAKlBzC,OAAOX,OAAP,CAAe6M,WAAf,CALkB,EAMlBP,KAAKhK,MAAL,CAAYC,QANM,EAOlB+J,KAAKhK,MAAL,CAAYa,SAPM,EAQlBmJ,KAAKhK,MAAL,CAAYiB,KARM,EASlBzD,MATkB,CAApB;AAWD;;AAEDa,WAAOZ,OAAP,CAAe4M,WAAf,IAA8B7M,MAA9B;AACD;AACF,CAjCD;;AAmCA;AACAa,OAAOnB,MAAP,GAAgBsN,SAASC,aAAT,CAAuB,QAAvB,CAAhB;AACApM,OAAOlB,CAAP,GAAWkB,OAAOnB,MAAP,CAAcwN,UAAd,CAAyB,IAAzB,CAAX;;AAEArM,OAAOnB,MAAP,CAAc6B,KAAd,GAAsB4L,UAAtB;AACAtM,OAAOnB,MAAP,CAAc8B,MAAd,GAAuB4L,WAAvB;;AAEA;AACA,IAAIC,QAAQ;AACVlM,KAAGgM,aAAa,CADN;AAEV/L,KAAGgM,cAAc;AAFP,CAAZ;;AAKA;AACAE,iBAAiB,WAAjB,EAA8B,UAAUC,KAAV,EAAiB;AAC7CF,QAAMlM,CAAN,GAAUoM,MAAMC,OAAhB;AACAH,QAAMjM,CAAN,GAAUmM,MAAME,OAAhB;AACD,CAHD;;AAKAH,iBAAiB,QAAjB,EAA2B,YAAY;AACrCzM,SAAOnB,MAAP,CAAc6B,KAAd,GAAsB4L,UAAtB;AACAtM,SAAOnB,MAAP,CAAc8B,MAAd,GAAuB4L,WAAvB;;AAEA;AACD,CALD;;AAOAM,YAAYC,UAAU,iBAASJ,KAAT,EAAe;AACnC,MAAG,CAAC1M,OAAOD,WAAP,CAAmBiH,OAAnB,CAA2B0F,MAAMK,OAAjC,CAAJ,EAA+C;AAC7CL,UAAMM,cAAN;AACD;AACDhN,SAAOd,GAAP,CAAWwN,MAAMK,OAAjB,IAA4BL,MAAMO,IAAN,IAAc,SAA1C;AACD,CALD;;AAOA,SAASC,IAAT,GAAgB;AACd,MAAIC,YAAY,EAAhB;AAAA,MAAoBC,YAAY,EAAhC;AAAA,MAAoCC,YAAY,EAAhD;AAAA,MAAoDC,YAAY,EAAhE;AACAH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,EAAX,EAAe,EAAf,CAAf;AACAqH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,EAAhB,CAAf;AACAqH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAqH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAqH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAqH,YAAU9K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,EAAX,EAAe,GAAf,CAAf;;AAEAsH,YAAU/K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAsH,YAAU/K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAsH,YAAU/K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAsH,YAAU/K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAsH,YAAU/K,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;;AAEAuH,YAAUhL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAuH,YAAUhL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAuH,YAAUhL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAuH,YAAUhL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAuH,YAAUhL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;;AAEAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,EAAX,EAAe,GAAf,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,EAAX,EAAe,GAAf,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;AACAwH,YAAUjL,IAAV,CAAe,IAAIyD,MAAJ,CAAW,GAAX,EAAgB,GAAhB,CAAf;;AAEA,MAAIyH,UAAU,IAAIpN,MAAJ,CAAW,CAAX,EAAcgN,SAAd,EAAyB,OAAzB,CAAd;AACA,MAAIK,UAAU,IAAIrN,MAAJ,CAAW,CAAX,EAAciN,SAAd,EAAyB,OAAzB,CAAd;AACA,MAAIK,UAAU,IAAItN,MAAJ,CAAW,CAAX,EAAckN,SAAd,EAAyB,OAAzB,CAAd;AACA,MAAIK,UAAU,IAAIvN,MAAJ,CAAW,CAAX,EAAcmN,SAAd,EAAyB,OAAzB,CAAd;AACAI,UAAQzG,aAAR,CAAsB,gBAAtB;AACAyG,UAAQxG,WAAR,CAAoB,GAApB;;AAEAqG,UAAQjH,YAAR,CAAqBkH,OAArB;AACAA,UAAQlH,YAAR,CAAqBiH,OAArB;AACAC,UAAQlH,YAAR,CAAqBmH,OAArB;AACAA,UAAQnH,YAAR,CAAqBkH,OAArB;AACAC,UAAQnH,YAAR,CAAqBoH,OAArB;AACAA,UAAQpH,YAAR,CAAqBmH,OAArB;;AAEAzN,SAAOX,OAAP,CAAegD,IAAf,CAAoBkL,OAApB;AACAvN,SAAOX,OAAP,CAAegD,IAAf,CAAoBmL,OAApB;AACAxN,SAAOX,OAAP,CAAegD,IAAf,CAAoBoL,OAApB;AACAzN,SAAOX,OAAP,CAAegD,IAAf,CAAoBqL,OAApB;;AAEA;AACA;AACA;AACA;AACA;AACD;;AAED;AACA,SAASlM,MAAT,GAAkB;AAAA;AAAA;AAAA;;AAAA;AAChB,0BAAmBxB,OAAOX,OAA1B,mIAAmC;AAAA,UAA1BsD,MAA0B;;AACjCA,aAAOnB,MAAP;;AADiC;AAAA;AAAA;;AAAA;AAGjC,8BAAoBmB,OAAOwD,OAA3B,mIAAoC;AAAA,cAA3BA,OAA2B;;AAClCA,kBAAQ3E,MAAR;AACD;AALgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMlC;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAShB,0BAAkBxB,OAAOV,OAAzB,mIAAkC;AAAA,UAAzByH,KAAyB;;AAChCA,YAAMvF,MAAN;AACD;AAXe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAahB,MAAIxB,OAAOb,MAAX,EAAmB;AACjBmM,iBAAaH,WAAb;AACAnL,WAAOb,MAAP,CAAcqC,MAAd;AACD;;AAhBe;AAAA;AAAA;;AAAA;AAkBhB,0BAAmBxB,OAAOZ,OAA1B,mIAAmC;AAAA,UAA1BD,MAA0B;;AACjC,UAAIA,WAAW,IAAX,IAAmBA,OAAOqB,EAAP,KAAcR,OAAOb,MAAP,CAAcqB,EAAnD,EAAuD;AACrD;AACArB,eAAOqC,MAAP;AACD;AACF;AAvBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBjB;;AAED,SAASsD,IAAT,GAAgB;AACd9E,SAAOlB,CAAP,CAASwG,IAAT;AACA;AACAtF,SAAOlB,CAAP,CAASyG,SAAT,CAAmBvF,OAAOhB,KAAP,GAAegB,OAAOnB,MAAP,CAAc6B,KAAd,GAAoB,CAAtD,EAAyDV,OAAOf,KAAP,GAAee,OAAOnB,MAAP,CAAc8B,MAAd,GAAqB,CAA7F;;AAHc;AAAA;AAAA;;AAAA;AAKd,0BAAmBX,OAAOX,OAA1B,mIAAmC;AAAA,UAA1BsD,MAA0B;;AACjCA,aAAOmC,IAAP;;AADiC;AAAA;AAAA;;AAAA;AAGjC,8BAAoBnC,OAAOwD,OAA3B,mIAAoC;AAAA,cAA3BA,OAA2B;;AAClCA,kBAAQrB,IAAR;AACD;AALgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMlC;AAXa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAad,0BAAkB9E,OAAOV,OAAzB,mIAAkC;AAAA,UAAzByH,KAAyB;AAAA;AAAA;AAAA;;AAAA;AAChC,+BAAmBA,MAAM9F,OAAzB,wIAAkC;AAAA,cAAzBU,MAAyB;;AAChC,cAAIA,OAAOC,QAAP,GAAkB,CAAtB,EAAyB;AACvBD,mBAAOmD,IAAP;AACD;AACF;AAL+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMhC,UAAIiC,MAAMlG,EAAN,GAAW,CAAf,EAAkB;AAChBkG,cAAMjC,IAAN;AACD;AACF;AAtBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAwBd,0BAAmB9E,OAAOZ,OAA1B,mIAAmC;AAAA,UAA1BD,MAA0B;;AACjC,UAAIA,WAAW,IAAf,EAAqB;AAAA;AAAA;AAAA;;AAAA;AACnB,iCAAmBA,OAAO8B,OAA1B,wIAAmC;AAAA,gBAA1BU,OAA0B;;AACjC,gBAAIA,QAAOC,QAAP,GAAkB,CAAtB,EAAyB;AACvBD,sBAAOmD,IAAP;AACD;AACF;AALkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMnB3F,eAAO2F,IAAP;AACD;AACF;AAjCa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmCd9E,SAAOlB,CAAP,CAAS8G,OAAT;AACD;;AAED;AACA,SAAS+H,OAAT,GAAmB;AACjBC,wBAAsBD,OAAtB;AACA3N,SAAOlB,CAAP,CAAS+O,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB7N,OAAOnB,MAAP,CAAc6B,KAAvC,EAA8CV,OAAOnB,MAAP,CAAc8B,MAA5D;AACA;AACAa;AACAsD;AACD;;AAEDoI;AACAS,U","file":"canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 401fee0e454230875c6f","module.exports = {\n  // Initial Setup\n  canvas: null,\n  c: null,\n  socket: null,\n  xView: 280,\n  yView: 170,\n  \n  // Active keys\n  map: {},\n\n  // Objects and arrays\n  player: null,\n  players: [],\n  sectors: [],\n  enemies: [],\n  \n  // Indexes\n  entityId: 1,\n\n  // Game values and arrays\n  playerMaxHp: 5,\n  moveSpeed: 3,\n  movementPenalty: 0.6,\n  backwordsSpeed: 0.3,\n  angleAdjustments: 0.05,\n  enemyRadius: 20,\n  colors: [\n    'black',\n    'red',\n    'blue',\n    'grey'\n  ],\n  \n  // Game setup\n  commandKeys: [\n    224, \n    17, \n    91\n  ]\n  \n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/config.js","var config = require('../util/config');\nvar vectorUtil = require('../util/vector_util');\nvar Sector = require('./Sector');\nvar Bullet = require('./Bullet');\n\nmodule.exports = Player;\n\n// Player\nfunction Player(x, y, id) {\n  this.id = id;\n  this.x = x;\n  this.y = y;\n  this.angle = 0;\n  this.width = 15;\n  this.height = 9;\n  this.maxHp = config.playerMaxHp;\n  this.hp = this.maxHp;\n  this.currentSector = undefined;\n\n  this.vecAddition = []\n  this.bullets = [];\n  this.bulletDelay = 15;\n  this.lastBullet = this.bulletDelay;\n\n  // effects\n  this.activeEffects = {};\n  this.speedAddition = 1;\n  this.fireAddition = 1;\n  this.fireDelay = 1;\n\n  this.update = function () {\n    for (let [index, bullet] of this.bullets.entries()) {\n      bullet.update();\n      if (bullet.lifetime <= 0) {\n        this.bullets.splice(index, 1);\n        bullet.delete();\n      }\n    }\n\n    this.handleEffects();\n\n    this.lastBullet++;\n  };\n\n  this.fire = function () {\n    if (this.lastBullet >= this.bulletDelay) {\n      let bullet = new Bullet(\n        this.x,\n        this.y,\n        (Math.cos(this.angle) + (this.x)) - (this.x),\n        (Math.sin(this.angle) + (this.y)) - (this.y),\n        this.getSector(),\n        60 * this.fireDelay,\n        5 * this.fireAddition,\n        'rgb(255,215,0)',\n        this\n      );\n      \n      this.bullets.push(bullet);\n      this.lastBullet = 0;\n\n      config.socket.emit('updatePlayer', {\n        bullet: {\n          x: bullet.x,\n          y: bullet.y,\n          dx: bullet.dx / bullet.fireSpeed,\n          dy: bullet.dy / bullet.fireSpeed,\n          radius: bullet.radius,\n          lifetime: bullet.lifetime,\n          fireSpeed: bullet.fireSpeed,\n          sector: this.getSector().id,\n          color: bullet.color\n        },\n        id: config.socket.id\n      });\n    }\n  };\n\n  this.move = function () {\n    let prevX = this.x;\n    let prevY = this.y;\n\n    this.x += this.vecAddition[0] * this.getSector().friction;\n    this.y += this.vecAddition[1] * this.getSector().friction;\n\n    config.xView = -this.x;\n    config.yView = -this.y;\n\n    if (prevX !== this.x || prevY !== this.y) {\n      config.socket.emit('updatePlayer', {\n        x: this.x,\n        y: this.y,\n        id: config.socket.id\n      });\n    }\n  };\n\n  this.updateAngle = function (up) {\n    if (up) {\n      this.angle += config.angleAdjustments;\n    } else {\n      this.angle -= config.angleAdjustments;\n    }\n\n    config.socket.emit('updatePlayer', {\n      angle: this.angle,\n      id: config.socket.id\n    });\n  };\n\n  this.updatePos = function (vecAddition) {\n    let vertices = this.getSector().vertices;\n    let neighbours = this.getSector().neighbours;\n\n    for (let i = 0; i < vertices.length; i++) {\n      let a = vertices[i], b = vertices[i + 1];\n\n      //Loop around for last corner\n      if (i == vertices.length - 1) {\n        b = vertices[0];\n      }\n\n      if (vectorUtil.intersectBox(this.x, this.y, (this.x ) + vecAddition[0], (this.y ) + vecAddition[1], a.x, a.y, b.x, b.y) &&\n        vectorUtil.pointSide((this.x ) + vecAddition[0], (this.y ) + vecAddition[1], a.x, a.y, b.x, b.y) < 0) {\n\n        // Check if its a neighbour sector on the other side of wall\n        for (let n of neighbours) {\n          if (this.checkForPortal(n, vecAddition, a, b)) //did we hit a portal?\n            return true;\n        }\n\n        //Bumps into a wall! Slide along the wall.\n        // This formula is from Wikipedia article \"vector projection\".\n        let xd = b.x - a.x, yd = b.y - a.y;\n        vecAddition[0] = xd * (vecAddition[0] * xd + yd * vecAddition[1]) / (xd * xd + yd * yd);\n        vecAddition[1] = yd * (vecAddition[0] * xd + yd * vecAddition[1]) / (xd * xd + yd * yd);\n\n        // //will you slide past this wall? - Removed for now\n        // if( (Math.min(a.x, b.x) > this.x+vecAddition[0] || this.x+vecAddition[0] > Math.max(a.x, b.x)) &&\n        //   (Math.min(a.y, b.y) > this.y+vecAddition[1] || this.y+vecAddition[1] > Math.max(a.y, b.y))  ){\n        //   //if so, stop player\n        //   vecAddition[0] = 0;\n        //   vecAddition[1] = 0;\n        // }\n\n      }\n    }\n    this.vecAddition = vecAddition;\n    this.move();\n  };\n\n  this.checkForPortal = function (n, vecAddition, a, b) {\n    if (n.containsVertices(a, b)) {\n      //is this wall a door? and if so, is it locked?\n      // door* door_ = n->getWallDoor(a,b);\n      // bool isDoorLocked = (door_ != NULL && door_->doorLocked());\n\n      this.getSector().removePlayer(this);\n      this.setSector(n.id);\n      this.getSector().enterSector(this);\n\n      //after changing sector, will you hit a wall?\n      if ((Math.min(a.x, b.x) > this.x + vecAddition[0] || this.x + vecAddition[0] > Math.max(a.x, b.x)) &&\n        (Math.min(a.y, b.y) > this.y + vecAddition[1] || this.y + vecAddition[1] > Math.max(a.y, b.y))) {\n        //if so, stop player\n        vecAddition[0] = 0;\n        vecAddition[1] = 0;\n      }\n      this.vecAddition = vecAddition;\n      this.move();\n\n      return true;\n    }\n    return false;\n  };\n\n  this.setSector = function (id) {\n    this.currentSector = id;\n  };\n\n  this.getSector = function () {\n    return config.sectors.filter(sector => sector.id === this.currentSector)[0];\n  };\n\n  this.hit = function () {\n    if (this.hp > 1) {\n      this.hp--;\n    } else {\n      console.log('GAME OVER');\n    }\n  };\n\n  this.boostFire = function (effect, duration, delay) {\n    this.activeEffects['fire'] = {\n      effect: effect,\n      duration: duration,\n      delay: delay\n    }\n  };\n\n  this.handleEffects = function () {\n    // handle boostFire effect\n    if (this.activeEffects['fire'] && this.activeEffects['fire'].duration > 0) {\n      this.fireAddition = this.activeEffects['fire'].effect;\n      this.fireDelay = this.activeEffects['fire'].delay;\n      this.activeEffects['fire'].duration -= 1;\n    } else {\n      this.fireAddition = 1;\n      this.fireDelay = 1;\n    }\n  };\n\n  this.draw = function () {\n    config.c.beginPath();\n    config.c.moveTo(this.x, this.y);\n    config.c.lineTo(Math.cos(this.angle) * 15 + this.x, Math.sin(this.angle) * 15 + this.y);\n    config.c.strokeStyle = 'dimgrey';\n    config.c.lineWidth = 4;\n    config.c.stroke();\n    config.c.closePath();\n    config.c.lineWidth = 1;\n\n    config.c.save();\n    config.c.beginPath();\n    config.c.translate((this.x + this.width / 2) - (this.width / 2), (this.y + this.height / 2) - (this.height / 2));\n    config.c.rotate(this.angle);\n    config.c.fillStyle = 'black';\n    config.c.rect(-this.width / 2, -this.height / 2, this.width, this.height);\n    config.c.fill();\n    config.c.stroke();\n    config.c.closePath();\n    config.c.restore();\n\n    //HP bar over player\n    config.c.beginPath();\n    config.c.moveTo(this.x - this.width / 2, this.y - this.height * 2.2);\n    config.c.lineTo(this.x + (this.width / 2), this.y - this.height * 2.2);\n    config.c.strokeStyle = 'red';\n    config.c.lineWidth = 3;\n    config.c.stroke();\n    config.c.closePath();\n    config.c.lineWidth = 1;\n\n    config.c.beginPath();\n    config.c.moveTo(this.x - this.width / 2, this.y - this.height * 2.2);\n    config.c.lineTo(this.x + ((this.width / this.maxHp) * this.hp) - this.width / 2, this.y - this.height * 2.2);\n    config.c.strokeStyle = 'green';\n    config.c.lineWidth = 3;\n    config.c.stroke();\n    config.c.closePath();\n    config.c.lineWidth = 1;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/objects/Player.js","var config = require('../util/config');\nvar vectorUtil = require('../util/vector_util');\nvar util = require('../util/canvas-util');\nvar Vertex = require('./Vertex');\nvar Enemy = require('./Enemy');\nvar Player = require('./Player');\nvar RapidFire = require('./effects/RapidFire');\n\nmodule.exports = Sector;\n\n// Sector\nfunction Sector (id, vertices, color) {\n  this.id = id;\n  this.vCount = vertices.length;\n  this.friction = 1;\n  this.color = color;\n  this.floorColor = 'lightgrey';\n\n  this.vertices = vertices;\n  this.neighbours = [];\n  this.enemies = [];\n  this.players = [];\n  this.effects = [];\n\n  this.addVertex = function (vertex) {\n    this.vertices.push(vertex);\n    this.vCount++;\n  };\n\n  this.addNeighbour = function (sector) {\n    this.neighbours.push(sector);\n  };\n\n  this.getWallNeighbour = function (vertex1, vertex2) {\n    for (let sector of this.neighbours) {\n      if(sector.containsVertices(vertex1, vertex2)) {\n        return sector;\n      }\n    }\n    return null;\n  };\n\n  this.containsVertices = function (vertex1, vertex2) {\n    let found = 0;\n    for (let vertex of this.vertices) {\n      if (vertex.equal(vertex1) || vertex.equal(vertex2))\n        found++;\n    }\n\n    return found == 2;\n  };\n\n  this.draw = function () {\n    config.c.beginPath();\n\n    for(let i = 0; i < this.vertices.length; i++) {\n      let a = this.vertices[i], b = this.vertices[i + 1];\n\n      //Loop around for last corner\n      if (i == this.vertices.length-1) {\n        b = vertices[0];\n      }\n\n      if (i == 0) {\n        config.c.moveTo(vertices[0].x, vertices[0].y);\n\n        for (let n of this.neighbours) {\n          if (n.containsVertices(a, b)) {\n            config.c.moveTo(b.x, b.y);\n            i++;\n          }\n        }\n\n      } else {\n        let portal = false;\n\n        for (let n of this.neighbours){\n          if(n.containsVertices(a, b)) {\n            if (i == 1) {\n              config.c.moveTo(a.x, a.y);\n            } else {\n              config.c.lineTo(a.x, a.y);\n            }\n            config.c.lineTo(a.x, a.y);\n            config.c.moveTo(b.x, b.y);\n\n            if (i == this.vertices.length-1) {\n              config.c.moveTo(b.x, b.y);\n            }\n\n            portal = true;\n          }\n        }\n\n        if (!portal) {\n          config.c.lineTo(a.x, a.y);\n\n          if (i == this.vertices.length-1) {\n            config.c.lineTo(b.x, b.y);\n          }\n        }\n      }\n\n    }\n\n    config.c.strokeStyle = color;\n    config.c.strokeWidth = 2;\n    config.c.stroke();\n    config.c.closePath();\n\n    this.drawFloor();\n  };\n\n  this.drawFloor = function () {\n    config.c.save();\n    config.c.beginPath();\n\n    for (let [index, vertex]of this.vertices.entries()) {\n      if (index == 0) {\n        config.c.moveTo(vertex.x, vertex.y);\n      } else {\n        config.c.lineTo(vertex.x, vertex.y);\n      }\n    }\n\n    config.c.lineTo(this.vertices[0].x, this.vertices[0].y);\n    config.c.fillStyle = this.floorColor;\n    config.c.fill();\n    config.c.closePath();\n    config.c.restore();\n  };\n\n  this.update = function () {\n    for (let [index, enemy] of this.enemies.entries()) {\n      //todo: update enemy here\n      if(enemy.hp <= 0 && enemy.bullets.length == 0) {\n        this.enemies.splice(index, 1);\n      }\n    }\n\n    for (let [index, effect] of this.effects.entries()) {\n      //todo: update enemy here\n      if(effect.lifetime <= 0) {\n        this.effects.splice(index, 1);\n      }\n    }\n  };\n\n  this.removePlayer = function (player) {\n    this.players.splice(this.players.indexOf(player));\n  };\n\n  this.setFloorColor = function (color) {\n    this.floorColor = color;\n  };\n\n  this.setFriction = function (friction) {\n    this.friction = friction;\n  };\n\n  this.addPlayer = function (player) {\n    this.players.push(player);\n  };\n\n  this.addEnemy = function (enemy) {\n    this.enemies.push(enemy);\n  };\n\n  this.setEnemy = function (enemies) {\n    this.enemies = enemies;\n  };\n\n  this.spawnEnemy = function () {\n    let enemyVertex = this.randomVertex(config.enemyRadius);\n    let enemy = new Enemy(enemyVertex.x, enemyVertex.y, 3, this.id, config.entityId++);\n    config.enemies.push(enemy);\n    this.addEnemy(enemy);\n  };\n\n  this.enterSector = function (player) {\n    this.addPlayer(player);\n\n    let random = util.randomIntFromRange(1,10);\n\n    if (random >= 10) {\n      this.spawnEnemy();\n    } else if (random >= 8 && random <= 9) {\n      let vertex = this.randomVertex();\n      this.effects.push(new RapidFire(vertex.x, vertex.y, this, 'red', 400));\n    }\n  };\n\n  this.spawnEffects = function () {\n    let random = util.randomIntFromRange(1,10);\n\n    if (random >= 4 && random <= 9) {\n      let vertex = this.randomVertex();\n      this.effects.push(new RapidFire(vertex.x, vertex.y, this, 'red', 400));\n    }\n  };\n\n  /*\n  |-------------------------------------------------------------------------------------------------------------------\n  | Random vertex used to spawn new entity inside sector\n  |-------------------------------------------------------------------------------------------------------------------\n  | Default param dtw (Distance from wall) is used to avoid entity to overlap walls and openings\n  */\n\n  this.randomVertex = function (dfw = 0) {\n    let rangeXY = this.findMaxAndMin();\n    let newPoint = true;\n    let point = null;\n    \n    while (newPoint) {\n      point = new Vertex(\n        util.randomIntFromRange(rangeXY.minX + dfw, rangeXY.maxX - dfw),\n        util.randomIntFromRange(rangeXY.minY + dfw, rangeXY.maxY - dfw)\n      );\n\n      newPoint = !this.insideSector(point);\n    }\n\n    return point;\n  };\n\n  this.findMaxAndMin = function () {\n    let minX = this.vertices[0].x;\n    let maxX = this.vertices[0].x;\n    let minY = this.vertices[0].y;\n    let maxY = this.vertices[0].y;\n\n    for (let vertex of this.vertices) {\n      if (vertex.x < minX) {\n        minX = vertex.x;\n      }\n\n      if (vertex.x > maxX) {\n        maxX = vertex.x;\n      }\n\n      if (vertex.y < minY) {\n        minY = vertex.y;\n      }\n\n      if (vertex.y > maxY) {\n        maxY = vertex.y;\n      }\n    }\n\n    return {\n      'minX': minX,\n      'maxX': maxX,\n      'minY': minY,\n      'maxY': maxY\n    };\n  };\n\n  this.insideSector = function (vertex) {\n    let vertices = this.vertices;\n    let   i, j = vertices.length-1;\n    let inside = false;\n\n    for (i = 0; i < vertices.length; i++) {\n      if ((vertices[i].y < vertex.y && vertices[j].y >= vertex.y\n        ||   vertices[j].y < vertex.y && vertices[i].y >= vertex.y)\n        &&  (vertices[i].x <= vertex.x || vertices[j].x <= vertex.x)) {\n\n        inside = inside ^ ((vertices[i].x + (vertex.y - vertices[i].y)\n                    / (vertices[j].y - vertices[i].y)\n                    * (vertices[j].x - vertices[i].x) < vertex.x));\n      }\n      j=i;\n    }\n\n    return inside;\n  };\n\n  this.spawnEffects();\n};\n\n\n// WEBPACK FOOTER //\n// ./src/objects/Sector.js","module.exports = Vertex;\n\nfunction Vertex (x, y) {\n  this.x = x;\n  this.y = y;\n\n  this.equal = function (other) {\n    return this.x == other.x && this.y == other.y;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/objects/Vertex.js","module.exports = {\n// Utility Functions\n  randomIntFromRange: function (min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  },\n\n  randomColor: function (colors) {\n    return colors[Math.floor(Math.random() * colors.length)];\n  },\n\n  getDistance: function (x1, y1, x2, y2) {\n    let xDistance = x2 - x1;\n    let yDistance = y2 - y1;\n\n    return Math.sqrt(Math.pow(xDistance, 2) + Math.pow(yDistance, 2));\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/canvas-util.js","var config = require('../util/config');\nvar util = require('../util/canvas-util');\nvar vectorUtil = require('../util/vector_util');\nvar Vertex = require('./Vertex');\nvar Sector = require('./Sector');\nvar Player = require('./Player');\nvar Enemy = require('./Enemy');\n\nmodule.exports = Bullet;\n\n// Bullet\nfunction Bullet (x, y, dx, dy, sector, lifetime, fireSpeed, color, owner) {\n  this.x = x;\n  this.y = y;\n  this.radius = 3;\n  this.fireSpeed = fireSpeed;\n  this.dx = dx * this.fireSpeed;\n  this.dy = dy * this.fireSpeed;\n  this.lifetime = lifetime;\n  this.sector = sector;\n  this.color = color;\n  this.owner = owner;\n\n  this.update = function () {\n    //Check if bullet hits player og enemy\n    // if(this.owner instanceof new Player) {\n    // console.log(this.owner);\n    this.hitCheckEnemy();\n    // } else {\n    //   this.hitCheckPlayer();\n    // }\n    // console.log(this.lifetime, this.owner);\n\n    let vertices = this.sector.vertices;\n    let neighbours = this.sector.neighbours;\n\n    for(let i = 0; i < vertices.length; i++) {\n      let a = vertices[i], b = vertices[i + 1];\n      let portal = false;\n\n      //Loop around for last corner\n      if (i == vertices.length - 1) {\n        b = vertices[0];\n      }\n\n      if (vectorUtil.intersectBox(this.x, this.y, (this.x ) + this.dx, (this.y ) + this.dy, a.x, a.y, b.x, b.y) &&\n        vectorUtil.pointSide((this.x ) + this.dx, (this.y ) + this.dy, a.x, a.y, b.x, b.y) < 0) {\n\n        for (let n of neighbours) {\n          if (n.containsVertices(a, b)) {\n            this.sector = n;\n            portal = true;\n          }\n        }\n        if (!portal) {\n          this.lifetime = 0;\n        }\n      }\n    }\n\n    if(this.lifetime > 0) {\n      this.x += this.dx;\n      this.y += this.dy;\n      this.lifetime -= 1;\n    }\n  };\n\n  this.hitCheckEnemy = function () {\n    for (let enemy of this.sector.enemies) {\n      if (util.getDistance(enemy.x, enemy.y, this.x, this.y) < this.radius + enemy.radius && enemy.hp > 0) {\n        enemy.hit();\n        this.stopBullet();\n      }\n    }\n  };\n\n  this.hitCheckPlayer = function () {\n    for (let player of this.sector.players) {\n      if (util.getDistance(player.x, player.y, this.x, this.y) < this.radius + player.height) {\n        player.hit();\n        this.stopBullet();\n      }\n    }\n  };\n\n  this.draw = function () {\n    config.c.beginPath();\n    config.c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    config.c.fillStyle = this.color;\n    config.c.fill();\n    config.c.lineWidth = 0.3;\n    config.c.stroke();\n    config.c.closePath();\n    config.c.lineWidth = 1;\n  };\n\n  this.stopBullet = function () {\n    this.lifetime = 0;\n  };\n\n  this.delete = function () {\n    delete this;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/objects/Bullet.js","var config = require('../util/config');\nvar util = require('../util/canvas-util');\nvar Vertex = require('./Vertex');\nvar Sector = require('./Sector');\nvar Player = require('./Player');\nvar Bullet = require('./Bullet');\nvar RapidFire = require('./effects/RapidFire');\n\nmodule.exports = Enemy;\n\nfunction Enemy (x, y, hp, sector, id) {\n  this.x = x;\n  this.y = y;\n  this.color = 'yellow';\n  this.radius = config.enemyRadius;\n  this.id = id;\n\n  this.attackDelay = 140;\n  this.lastAttack = 0;\n  this.numberOfBullets = 9;\n  this.bullets = [];\n\n  this.hp = hp;\n  this.sector = sector;\n\n  this.hit = function () {\n    this.radius -= 5;\n    this.hp--;\n  };\n\n  this.update = function () {\n\n    if (this.lastAttack >= this.attackDelay && this.hp > 0) {\n      for (let player of this.getSector().players) {\n        this.attack();\n      }\n    }\n\n    for (let [index, bullet] of this.bullets.entries()) {\n      bullet.update();\n\n      if (bullet.lifetime <= 0) {\n        this.bullets.splice(index, 1);\n      }\n    }\n\n    this.lastAttack++;\n  };\n\n  this.attack = function () {\n    let randomOffset = util.randomIntFromRange(-90, 90);\n\n    for (let i = 0; i < this.numberOfBullets; i++) {\n      let angle = (((360/this.numberOfBullets) * (i + 1) * Math.PI) / 180) + randomOffset;\n      let speed = util.randomIntFromRange(2,4);\n\n      this.bullets.push(\n        new Bullet(\n          this.x,\n          this.y,\n          Math.cos(angle) * speed,\n          Math.sin(angle) * speed,\n          this.getSector(),\n          140,\n          1,\n          'red',\n          this\n        )\n      );\n    }\n    this.lastAttack = 0;\n  };\n\n  this.draw = function () {\n    config.c.beginPath();\n    config.c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    config.c.fillStyle = this.color;\n    config.c.fill();\n    config.c.strokeStyle = 'black';\n    config.c.stroke();\n    config.c.closePath();\n  };\n\n  this.setSector = function (id) {\n    this.currentSector = id;\n  };\n\n  this.getSector = function () {\n    return config.sectors.filter(sector => sector.id === this.sector)[0];\n  };\n};\n\n\n// WEBPACK FOOTER //\n// ./src/objects/Enemy.js","module.exports = {\n\n// Utility Functions\n\n//if input is higher than max or lower than min, return closest option\n  clamp: function (input, min, max) {\n    return Math.min(Math.max(input, min), max);\n  },\n\n//does the two boxes intersect?\n  intersectBox: function (x0, y0, x1, y1, x2, y2, x3, y3) {\n    return this.overlap(x0, x1, x2, x3) && this.overlap(y0, y1, y2, y3);\n  },\n\n//find out if number-ranges overlap. Used to determine intersects\n  overlap: function (a0, a1, b0, b1) {\n    return Math.min(a0, a1) <= Math.max(b0, b1) && Math.min(b0, b1) <= Math.max(a0, a1);\n  },\n\n  vcp: function (x0, y0, x1, y1) {\n    return ((x0 * y1) - (x1 * y0));\n  },\n\n  pointSide: function (px, py, x0, y0, x1, y1) {\n    return this.vcp((x1 - x0), (y1 - y0), (px - x0), (py - y0));\n  },\n\n  intersect: function (x1, y1, x2, y2, x3, y3, x4, y4) {\n    let pos = {};\n\n    pos.x = this.vcp(this.vcp(x1, y1, x2, y2), ( x1 - x2 ), this.vcp(x3, y3, x4, y4),\n        ( x3 - x4 )) / this.vcp(( x1 - x2 ), ( y1 - y2 ), ( x3 - x4 ), ( y3 - y4 ));\n\n    pos.y = this.vcp(this.vcp(x1, y1, x2, y2), ( y1 - y2 ), this.vcp(x3, y3, x4, y4),\n        ( y3 - y4 )) / this.vcp(( x1 - x2 ), ( y1 - y2 ), ( x3 - x4 ), ( y3 - y4 ));\n\n    return pos;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/util/vector_util.js","var config  = require('../../util/config');\nvar util = require('../../util/canvas-util');\nvar Sector = require('../Sector');\nvar Player = require('../Player');\n\nmodule.exports = RapidFire;\n\n// Bullet\nfunction RapidFire (x, y, sector, color, duration) {\n  this.x = x;\n  this.y = y;\n  this.radius = 5;\n  this.sector = sector;\n  this.color = color;\n  this.duration = duration;\n  this.effect = 1.5;\n  this.fireDelay = 0.5;\n  this.lifetime = 1;\n\n  this.update = function () {\n    this.hitCheckPlayer();\n\n    // Keep effect until its picked up for now\n    // if(this.lifetime > 0) {\n    //   this.lifetime -= 1;\n    // }\n  };\n\n  this.hitCheckPlayer = function () {\n    for (let player of this.sector.players) {\n      if (util.getDistance(player.x, player.y, this.x, this.y) < this.radius + player.height) {\n        player.boostFire(this.effect, this.duration, this.fireDelay);\n        this.removeEffect();\n      }\n    }\n  };\n\n  this.draw = function () {\n    config.c.beginPath();\n    config.c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    config.c.fillStyle = this.color;\n    config.c.fill();\n    config.c.closePath();\n  };\n\n  this.removeEffect = function () {\n    this.lifetime = 0;\n  };\n\n  this.delete = function () {\n    delete this;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/objects/effects/RapidFire.js","var config = require('./util/config');\nvar Player = require('./objects/Player');\n\nexports.handleInput = function () {\n  let vecAddition = [ 0, 0 ], slower = false, back = false;\n\n  //up - unused\n  if (config.map[38]) {\n    console.log('unused - up');\n  }\n  //left - move player angle up (left)\n  if (config.map[39]) {\n    config.player.updateAngle(true);\n    // config.player.angle += config.angleAdjustments;\n  }\n  //right - move player angle down (right)\n  if (config.map[37]) {\n    config.player.updateAngle(false);\n    // config.player.angle -= config.angleAdjustments;\n  }\n  //down - unused\n  if (config.map[40]) {\n    console.log('unused - down');\n  }\n  //a - move player left\n  if (config.map[65]) {\n    vecAddition[0] += Math.sin(config.player.angle) * config.moveSpeed;\n    vecAddition[1] -= Math.cos(config.player.angle) * config.moveSpeed;\n    slower = true;\n  }\n  //d - move player right\n  if (config.map[68]) {\n    vecAddition[0] -= Math.sin(config.player.angle) * config.moveSpeed;\n    vecAddition[1] += Math.cos(config.player.angle) * config.moveSpeed;\n    slower = true;\n  }\n  //w - move player up\n  if (config.map[87]) {\n    vecAddition[0] += Math.cos(config.player.angle) * config.moveSpeed;\n    vecAddition[1] += Math.sin(config.player.angle) * config.moveSpeed;\n  }\n  //s - move player down\n  if (config.map[83]) {\n    vecAddition[0] -= Math.cos(config.player.angle) * config.moveSpeed;\n    vecAddition[1] -= Math.sin(config.player.angle) * config.moveSpeed;\n    back = true;\n  }\n  //fire bullet\n  if (config.map[32]) {\n    config.player.fire();\n  }\n\n  if (back) {\n    vecAddition[0] = vecAddition[0] * config.backwordsSpeed;\n    vecAddition[1] = vecAddition[1] * config.backwordsSpeed;\n  } else if(slower) {\n    vecAddition[0] = vecAddition[0] * config.movementPenalty;\n    vecAddition[1] = vecAddition[1] * config.movementPenalty;\n  }\n\n  config.player.updatePos(vecAddition);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/inputHandler.js","var inputHandler = require('./inputHandler');\nvar Player = require('./objects/Player');\nvar Vertex = require('./objects/Vertex');\nvar Sector = require('./objects/Sector');\nvar Enemy = require('./objects/Enemy');\nvar Bullet = require('./objects/Bullet');\nvar config = require('./util/config');\n\nconfig.socket = io();\nconfig.socket.on('createPlayer', function(id) {\n  console.log(id);\n  config.player = new Player(150, 200, id);\n  config.players.push(config.player);\n  \n  config.player.setSector(1);\n  config.sectors[0].enterSector(config.player);\n  \n  config.socket.emit('addPlayers', JSON.stringify(config.player));\n});\n\nconfig.socket.on('initGame', function(data) {\n  // let players = JSON.parse(JSON.stringify(data));\n\n  for (let p of data) {\n    if (p !== null && config.socket.id !== p.id) {\n      config.players.push(new Player(p.x, p.y, p.id));\n    }\n    // console.log(players, config.players);\n  }\n});\n\nconfig.socket.on('updatePlayers', function(data) {\n  data = JSON.parse(data);\n  let newPlayer = new Player(data.x, data.y, data.id);\n  // Update rest of variables\n\n  config.players.push(newPlayer)\n});\n\nconfig.socket.on('updateState', function(data) {\n  if (data === null) {\n    return;\n  }\n\n  let removePlayers = {};\n\n  // Update x,y pos every sec (corrigation from server)\n  for (let i = 0; i < config.players.length; i++) {\n    for (let j = 0; j < data.length; j++) {\n      if (data[j].id === config.players[i].id) {\n        config.players[i].x = data[j].x;\n        config.players[i].y = data[j].y;\n        removePlayers[i] = false;\n      }\n    }\n  }\n\n  //Clean up players array\n  for (let i = 0; i < config.players.length; i++) {\n    if (removePlayers[i] === undefined) {\n      config.players.splice(i, 1);\n    }\n  }\n});\n\nconfig.socket.on('movePlayer', function(data) {\n  let playerIndex = config.players.findIndex(i => i.id === data.id);\n\n  if ( playerIndex !== -1) {\n    let player = config.players[playerIndex];\n\n    if (data.x !== undefined) {\n      player.x = data.x;\n    }\n    if (data.y !== undefined) {\n      player.y = data.y;\n    }\n    if (data.angle !== undefined) {\n      player.angle = data.angle;\n    }\n    if (data.bullet !== undefined) {\n      let sectorIndex = config.sectors.findIndex(i => i.id === data.bullet.sector);\n      \n      player.bullets.push(new Bullet(\n        data.bullet.x,\n        data.bullet.y,\n        data.bullet.dx,\n        data.bullet.dy,\n        config.sectors[sectorIndex],\n        data.bullet.lifetime,\n        data.bullet.fireSpeed,\n        data.bullet.color,\n        player\n      ));\n    }\n\n    config.players[playerIndex] = player;\n  }\n});\n\n// // Initial Setup\nconfig.canvas = document.querySelector('canvas');\nconfig.c = config.canvas.getContext('2d');\n\nconfig.canvas.width = innerWidth;\nconfig.canvas.height = innerHeight;\n\n// Variables\nlet mouse = {\n  x: innerWidth / 2,\n  y: innerHeight / 2\n};\n\n// Event Listeners\naddEventListener(\"mousemove\", function (event) {\n  mouse.x = event.clientX;\n  mouse.y = event.clientY;\n});\n\naddEventListener(\"resize\", function () {\n  config.canvas.width = innerWidth;\n  config.canvas.height = innerHeight;\n\n  // init();\n});\n\nonkeydown = onkeyup = function(event){\n  if(!config.commandKeys.indexOf(event.keyCode)) {\n    event.preventDefault();\n  }\n  config.map[event.keyCode] = event.type == 'keydown';\n};\n\nfunction init() {\n  let vertices1 = [], vertices2 = [], vertices3 = [], vertices4 = [];\n  vertices1.push(new Vertex(50, 25));\n  vertices1.push(new Vertex(300, 25));\n  vertices1.push(new Vertex(300, 125));\n  vertices1.push(new Vertex(300, 175));\n  vertices1.push(new Vertex(300, 250));\n  vertices1.push(new Vertex(50, 250));\n\n  vertices2.push(new Vertex(300, 125));\n  vertices2.push(new Vertex(500, 125));\n  vertices2.push(new Vertex(500, 175));\n  vertices2.push(new Vertex(400, 175));\n  vertices2.push(new Vertex(300, 175));\n\n  vertices3.push(new Vertex(500, 175));\n  vertices3.push(new Vertex(500, 500));\n  vertices3.push(new Vertex(400, 500));\n  vertices3.push(new Vertex(400, 400));\n  vertices3.push(new Vertex(400, 175));\n\n  vertices4.push(new Vertex(400, 400));\n  vertices4.push(new Vertex(400, 500));\n  vertices4.push(new Vertex(400, 600));\n  vertices4.push(new Vertex(50, 600));\n  vertices4.push(new Vertex(50, 300));\n  vertices4.push(new Vertex(250, 300));\n  vertices4.push(new Vertex(250, 400));\n\n  let sector1 = new Sector(1, vertices1, 'black');\n  let sector2 = new Sector(2, vertices2, 'black');\n  let sector3 = new Sector(3, vertices3, 'black');\n  let sector4 = new Sector(4, vertices4, 'black');\n  sector4.setFloorColor('darkolivegreen');\n  sector4.setFriction(0.7);\n\n  sector1.addNeighbour(sector2);\n  sector2.addNeighbour(sector1);\n  sector2.addNeighbour(sector3);\n  sector3.addNeighbour(sector2);\n  sector3.addNeighbour(sector4);\n  sector4.addNeighbour(sector3);\n\n  config.sectors.push(sector1);\n  config.sectors.push(sector2);\n  config.sectors.push(sector3);\n  config.sectors.push(sector4);\n\n  // let enemyVertex = sector4.randomVertex(config.enemyRadius);\n  // console.log(enemyVertex.x, enemyVertex.y);\n  // let enemy = new Enemy(enemyVertex.x, enemyVertex.y, 3, 4, config.entityId++);\n  // config.enemies.push(enemy);\n  // sector4.addEnemy(enemy);\n}\n\n// Update all objects\nfunction update() {\n  for (let sector of config.sectors) {\n    sector.update();\n\n    for (let effects of sector.effects) {\n      effects.update();\n    }\n  }\n\n  for (let enemy of config.enemies) {\n    enemy.update();\n  }\n\n  if (config.player) {\n    inputHandler.handleInput();\n    config.player.update();\n  }\n\n  for (let player of config.players) {\n    if (player !== null && player.id !== config.player.id) {\n      // console.log('updating: ' + player.id, player.bullets);\n      player.update();\n    }\n  }\n}\n\nfunction draw() {\n  config.c.save();\n  // center \"camera\" over player\n  config.c.translate(config.xView + config.canvas.width/2, config.yView + config.canvas.height/2);\n\n  for (let sector of config.sectors) {\n    sector.draw();\n\n    for (let effects of sector.effects) {\n      effects.draw();\n    }\n  }\n\n  for (let enemy of config.enemies) {\n    for (let bullet of enemy.bullets) {\n      if (bullet.lifetime > 0) {\n        bullet.draw();\n      }\n    }\n    if (enemy.hp > 0) {\n      enemy.draw();\n    }\n  }\n\n  for (let player of config.players) {\n    if (player !== null) {\n      for (let bullet of player.bullets) {\n        if (bullet.lifetime > 0) {\n          bullet.draw();\n        }\n      }\n      player.draw();\n    }\n  }\n\n  config.c.restore();\n}\n\n// Animation Loop\nfunction animate() {\n  requestAnimationFrame(animate);\n  config.c.clearRect(0, 0, config.canvas.width, config.canvas.height);\n  // console.log(config.players);\n  update();\n  draw();\n}\n\ninit();\nanimate();\n\n\n// WEBPACK FOOTER //\n// ./src/canvas.js"],"sourceRoot":""}